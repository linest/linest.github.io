<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Leetcode-数字篇 | Blog of Linest</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="总结  关注  正负 0 溢出，负数最大值 字符串0开头  操作  进制转换 正向进制求值 逆向进制求值 因子 二分搜索求值 表达式按位运算  技巧  溢出判断，使用long值类型，强转int比较是否数值还相等 同时取首尾两个数位，预先构造10…0基底作为辅助  数位与进制  ❀7. Reverse Integer  逆转数字，溢出返回0  逆向进制求值 123456789101112131415">
<meta property="og:type" content="website">
<meta property="og:title" content="Leetcode-数字篇">
<meta property="og:url" content="http://linest.github.io/leetcode/leetcode-number.html">
<meta property="og:site_name" content="Blog of Linest">
<meta property="og:description" content="总结  关注  正负 0 溢出，负数最大值 字符串0开头  操作  进制转换 正向进制求值 逆向进制求值 因子 二分搜索求值 表达式按位运算  技巧  溢出判断，使用long值类型，强转int比较是否数值还相等 同时取首尾两个数位，预先构造10…0基底作为辅助  数位与进制  ❀7. Reverse Integer  逆转数字，溢出返回0  逆向进制求值 123456789101112131415">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-12-01T02:31:21.324Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Leetcode-数字篇">
<meta name="twitter:description" content="总结  关注  正负 0 溢出，负数最大值 字符串0开头  操作  进制转换 正向进制求值 逆向进制求值 因子 二分搜索求值 表达式按位运算  技巧  溢出判断，使用long值类型，强转int比较是否数值还相等 同时取首尾两个数位，预先构造10…0基底作为辅助  数位与进制  ❀7. Reverse Integer  逆转数字，溢出返回0  逆向进制求值 123456789101112131415">
  
    <link rel="alternative" href="/atom.xml" title="Blog of Linest" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/fonts/octicons/octicons.css">
  <link rel="stylesheet" href="/css/fonts/font-awesome-4.6.3/css/font-awesome.min.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  
</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/assets/avatar/pika.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Linest</a></h1>
		</hgroup>

		
		<p class="header-subtitle">试验田|小黑屋|百宝箱|里程碑</p>
		

		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/linest" title="github">github</a>
					        
								<a class="mail" target="_blank" href="mailto:xlinest@gmail.com" title="mail">mail</a>
					        
						</div>
					</nav>
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/doodle">涂鸦</a></li>
				        
							<li><a href="/live2d">云撸猫</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/tagcloud">标签&amp;分类</a></li>
				        
						</ul>
					</nav>	
				</section>
				
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">勤奋的懒惰者
爱听故事的人~
Zjuer
</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Linest</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="/assets/avatar/pika.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Linest</h1>
			</hgroup>
			
			<p class="header-subtitle">试验田|小黑屋|百宝箱|里程碑</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/doodle">涂鸦</a></li>
		        
					<li><a href="/live2d">云撸猫</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tagcloud">标签&amp;分类</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/linest" title="github">github</a>
			        
						<a class="mail" target="_blank" href="mailto:xlinest@gmail.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="page-undefined" class="article article-type-page" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/leetcode/leetcode-number.html" class="article-date">
  	<time datetime="2019-12-01T02:31:21.324Z" itemprop="datePublished">2019-12-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Leetcode-数字篇
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="总结">总结</h1>
<hr>
<h2 id="关注">关注</h2>
<ul>
<li>正负</li>
<li>0</li>
<li>溢出，负数最大值</li>
<li>字符串0开头</li>
</ul>
<h2 id="操作">操作</h2>
<ul>
<li>进制转换</li>
<li>正向进制求值</li>
<li>逆向进制求值</li>
<li>因子</li>
<li>二分搜索求值</li>
<li>表达式按位运算</li>
</ul>
<h2 id="技巧">技巧</h2>
<ul>
<li>溢出判断，使用long值类型，强转int比较是否数值还相等</li>
<li>同时取首尾两个数位，预先构造10…0基底作为辅助</li>
</ul>
<h1 id="数位与进制">数位与进制</h1>
<hr>
<h2 id="❀7-reverse-integer">❀7. Reverse Integer</h2>
<blockquote>
<p>逆转数字，溢出返回0</p>
</blockquote>
<p>逆向进制求值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//扩大范围，便于溢出处理</span></span><br><span class="line">        <span class="keyword">long</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//除10最终为0，无论正负</span></span><br><span class="line">        <span class="keyword">while</span>(x != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//取余支持负数，无需特殊处理</span></span><br><span class="line">            result = result * <span class="number">10</span> + x % <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>((<span class="keyword">int</span>)result != result) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            x = x / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>)result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀9-palindrome-number">❀9. Palindrome Number</h2>
<blockquote>
<p>判断数字是否回文</p>
</blockquote>
<p>翻转数字基础上增加判断逻辑</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> n = x, result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">long</span> digit = n % <span class="number">10</span>;</span><br><span class="line">            n = n / <span class="number">10</span>;</span><br><span class="line">            result = result * <span class="number">10</span> + digit;</span><br><span class="line">            <span class="keyword">if</span>((<span class="keyword">int</span>)n != n) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result == x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀504-base-7">❀504. Base 7</h2>
<blockquote>
<p>10进制转7进制</p>
</blockquote>
<p>注意0特例，注意负数处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">convertToBase7</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> n = Math.abs(num);</span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">0</span>) &#123;</span><br><span class="line">            sb.append(n % <span class="number">7</span>);</span><br><span class="line">            n = n / <span class="number">7</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(num &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            sb.append(<span class="string">'-'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀405-convert-a-number-to-hexadecimal">❀405. Convert a Number to Hexadecimal</h2>
<blockquote>
<p>数字转16进制</p>
</blockquote>
<p>注意0特例<br>
避免开头0，从末尾开始处理<br>
无符号移位，处理负数<br>
采用与操作代替取余，采用移位代替除</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toHex</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>(num != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> hex = num &amp; <span class="number">0x0F</span>;</span><br><span class="line">            <span class="keyword">if</span>(hex &lt;= <span class="number">9</span>) &#123;</span><br><span class="line">                sb.append(hex);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                sb.append((<span class="keyword">char</span>)(<span class="string">'a'</span> + hex-<span class="number">10</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            num = num &gt;&gt;&gt; <span class="number">4</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀168-excel-sheet-column-title">❀168. Excel Sheet Column Title</h2>
<blockquote>
<p>输出Excel列名，1-&gt;A,26-&gt;Z,27-&gt;AA</p>
</blockquote>
<p>实际上是一种26进制，注意映射范围调整0~25</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">convertToTitle</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">0</span>) &#123;</span><br><span class="line">            n--;</span><br><span class="line">            sb.append((<span class="keyword">char</span>)(<span class="string">'A'</span>+ n  % <span class="number">26</span>));</span><br><span class="line">            n /= <span class="number">26</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀171-excel-sheet-column-number">❀171. Excel Sheet Column Number</h2>
<blockquote>
<p>Excel列转数字</p>
</blockquote>
<p>列使用A-Z表示1~26，是26进制，即26进制转10进制<br>
正向进制求值，移动高位，比如123 =&gt; 1,12,123</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">titleToNumber</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            num *= <span class="number">26</span>;</span><br><span class="line">            num += s.charAt(i) - <span class="string">'A'</span> + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀476-number-complement">❀476. Number Complement</h2>
<blockquote>
<p>求一个正数反码表示的数字</p>
</blockquote>
<p>逆向进制求值，扩大基底，比如123 =&gt; 3,23,123</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findComplement</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>, base = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(num != <span class="number">0</span>) &#123;</span><br><span class="line">            result = result + (<span class="number">1</span> - num % <span class="number">2</span>)*base;</span><br><span class="line">            num = num / <span class="number">2</span>;</span><br><span class="line">            base = base*<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="868-binary-gap">868. Binary Gap</h2>
<blockquote>
<p>相邻1之间的最长跨度</p>
</blockquote>
<p>二进制数位遍历加统计</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binaryGap</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> max = <span class="number">0</span>, gap = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(N != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(N % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(gap &gt; max)&#123;</span><br><span class="line">                    max = gap;</span><br><span class="line">                &#125;</span><br><span class="line">                gap = <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(gap != <span class="number">0</span>)&#123;</span><br><span class="line">                gap++;</span><br><span class="line">            &#125;</span><br><span class="line">            N = N/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="整除与余数">整除与余数</h1>
<hr>
<h2 id="❀1018-binary-prefix-divisible-by-5">❀1018. Binary Prefix Divisible By 5</h2>
<blockquote>
<p>判断0~i部分构成的2进制数是否是5的倍数</p>
</blockquote>
<p>数组很长，不断增大数字会溢出，因此只保留5的余数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Boolean&gt; <span class="title">prefixesDivBy5</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">        List&lt;Boolean&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : A) &#123;</span><br><span class="line">            num = num * <span class="number">2</span> + i;</span><br><span class="line">            num = num % <span class="number">5</span>;</span><br><span class="line">            res.add(num == <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="728-self-dividing-numbers">728. Self Dividing Numbers</h2>
<blockquote>
<p>给上下界，求数字能整除每一数位的数字</p>
</blockquote>
<p>常规每个数字进行判断即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">selfDividingNumbers</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = left; i &lt;= right; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(isSelfDividing(i)) &#123;</span><br><span class="line">                list.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isSelfDividing</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = n;</span><br><span class="line">        <span class="keyword">while</span>(num != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> i = num % <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">0</span> || n % i != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            num /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="反复操作">反复操作</h1>
<hr>
<h2 id="❀258-add-digits">❀258. Add Digits</h2>
<blockquote>
<p>各个数位相加，重复这一过程直到只有一位</p>
</blockquote>
<p>10=&gt;1，11-&gt;2,…,17=&gt;8,18=&gt;9,19=&gt;10=&gt;1<br>
存在规律，跟余9关</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">addDigits</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + (num - <span class="number">1</span>) % <span class="number">9</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀202-happy-number">❀202. Happy Number</h2>
<blockquote>
<p>求一个正数各个数位平方和，重复这一过程直到收敛，判断是否最终为1还是无限循环</p>
</blockquote>
<p>使用set记录序列，检测重复避免进入循环</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHappy</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(!set.contains(n)) &#123;</span><br><span class="line">            set.add(n);</span><br><span class="line">            <span class="keyword">int</span> sum = digitSquareSum(n);</span><br><span class="line">            <span class="keyword">if</span>(sum == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            n = sum;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">digitSquareSum</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>, tmp;</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">            tmp = n % <span class="number">10</span>;</span><br><span class="line">            sum += tmp * tmp;</span><br><span class="line">            n /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不管怎样都会循环，可以用链表快慢指针思想</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHappy</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> slow = n, fast = n;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            slow = digitSquareSum(slow);</span><br><span class="line">            fast = digitSquareSum(fast);</span><br><span class="line">            fast = digitSquareSum(fast);</span><br><span class="line">        &#125; <span class="keyword">while</span>(slow != fast);</span><br><span class="line">        <span class="keyword">return</span> slow == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">digitSquareSum</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>, tmp;</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">            tmp = n % <span class="number">10</span>;</span><br><span class="line">            sum += tmp * tmp;</span><br><span class="line">            n /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="因子">因子</h1>
<hr>
<h2 id="326-power-of-three">326. Power of Three</h2>
<blockquote>
<p>判断是否是3的幂次</p>
</blockquote>
<p>取巧法，求出整数范围内最大值，看是否整除</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPowerOfThree</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1162261467 is 3^19, which is biggest under int scope</span></span><br><span class="line">        <span class="keyword">return</span> ( n &gt; <span class="number">0</span> &amp;&amp;  <span class="number">1162261467</span> % n == <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="507-perfect-number">507. Perfect Number</h2>
<blockquote>
<p>判断一个数是否等于不含自身的因子之和</p>
</blockquote>
<p>求因子累和，使用开方缩减范围，需要注意因子重复</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkPerfectNumber</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(num &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= (<span class="keyword">int</span>)Math.sqrt(num); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(num % i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> a = i, b = num/i;</span><br><span class="line">                sum = (a==b) ? sum + a : sum + a + b;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num == sum - num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀172-factorial-trailing-zeroes">❀172. Factorial Trailing Zeroes</h2>
<blockquote>
<p>阶乘末尾0的个数</p>
</blockquote>
<p>阶乘可以看成一堆因子的乘积，因子2和5会产生0<br>
2数量足够多，只需要找出因子5的个数<br>
需要考虑多个5情况，比如25包含2个5， 125包含3个5，因此需要不断除5</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trailingZeroes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">0</span>) &#123;</span><br><span class="line">            n = n /<span class="number">5</span>;</span><br><span class="line">            cnt += n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="412-fizz-buzz">412. Fizz Buzz</h2>
<blockquote>
<p>对3和5的倍数特殊处理</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">fizzBuzz</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=n ; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> mod3 = i % <span class="number">3</span>, mod5 = i % <span class="number">5</span>;</span><br><span class="line">            <span class="keyword">if</span>(mod3 == <span class="number">0</span> &amp;&amp; mod5 == <span class="number">0</span>) &#123;</span><br><span class="line">                list.add(<span class="string">"FizzBuzz"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(mod3 == <span class="number">0</span>) &#123;</span><br><span class="line">                list.add(<span class="string">"Fizz"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(mod5 == <span class="number">0</span>) &#123;</span><br><span class="line">                list.add(<span class="string">"Buzz"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                list.add(String.valueOf(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="263-ugly-number">263. Ugly Number</h2>
<blockquote>
<p>判断是否只包含因子2, 3, 5</p>
</blockquote>
<p>把所有2,3,5因子除尽，最后应该是1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isUgly</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(num &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(num % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            num = num / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(num % <span class="number">3</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            num = num / <span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(num % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            num = num / <span class="number">5</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀264-ugly-number-ii">❀264. Ugly Number II</h2>
<blockquote>
<p>第一个丑数是1，求第n个丑数</p>
</blockquote>
<p>235的幂次，更大的丑数可能是之前的某个乘235获得，每次3个候选值求最小</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthUglyNumber</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] ugly = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">int</span> index2 = <span class="number">0</span>, index3 = <span class="number">0</span>, index5 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> factor2 = <span class="number">1</span>, factor3 = <span class="number">1</span>, factor5 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> min = Math.min(Math.min(factor2,factor3),factor5);</span><br><span class="line">            ugly[i] = min;</span><br><span class="line">            <span class="keyword">if</span>(factor2 == min)&#123;</span><br><span class="line">                factor2 = <span class="number">2</span>*ugly[index2++];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(factor3 == min)&#123;</span><br><span class="line">                factor3 = <span class="number">3</span>*ugly[index3++];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(factor5 == min)&#123;</span><br><span class="line">                factor5 = <span class="number">5</span>*ugly[index5++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ugly[n-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="313-super-ugly-number">313. Super Ugly Number</h2>
<blockquote>
<p>求第n个超级丑数，指定质数因子</p>
</blockquote>
<p>思路一样，换数组处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthSuperUglyNumber</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] primes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> k = primes.length;</span><br><span class="line">        <span class="keyword">int</span>[] index = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">        <span class="keyword">int</span>[] candidates = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">        <span class="keyword">int</span>[] ugly = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line"></span><br><span class="line">        Arrays.fill(candidates, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> min = getMin(candidates);</span><br><span class="line">            ugly[i] = min;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(candidates[j] == min) &#123;</span><br><span class="line">                    candidates[j] = ugly[index[j]] * primes[j];</span><br><span class="line">                    index[j]++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ugly[n-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> min = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            min = Math.min(min, nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="最大公约数">最大公约数</h1>
<hr>
<h2 id="❀914-x-of-a-kind-in-a-deck-of-cards">❀914. X of a Kind in a Deck of Cards</h2>
<blockquote>
<p>判断是否可以分成数量相等的组，每组包含X个并且组内数字一样</p>
</blockquote>
<p>先统计每个数字个数，然后求最大公约数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasGroupsSizeX</span><span class="params">(<span class="keyword">int</span>[] deck)</span> </span>&#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; count = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : deck) &#123;</span><br><span class="line">            count.put(i, count.getOrDefault(i, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : count.values()) &#123;</span><br><span class="line">            res = gcd(i, res);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res &gt; <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">0</span> ? m : gcd(n, m % n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="质数">质数</h1>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">0</span> || n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> k = (<span class="keyword">int</span>)Math.sqrt(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= k; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(n % i == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀204-count-primes">❀204. Count Primes</h2>
<blockquote>
<p>统计小于n的数里质数的个数</p>
</blockquote>
<p>范围标记排除，优于单个数字逐一判断<br>
没被标记就是质数，找到一个质数后，就把所有倍数标记成非质数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">boolean</span>[] notPrime = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(notPrime[i]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">2</span>; j*i &lt; n; j++) &#123;</span><br><span class="line">                notPrime[j*i] = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀650-2-keys-keyboard">❀650. 2 Keys Keyboard</h2>
<blockquote>
<p>初始有一个字母，只有两个操作全选复制和粘贴，问达到n个字母最少需要几次</p>
</blockquote>
<p>任意数字都能分解成质数乘积<br>
AP操作2倍，APP操作3倍，APPPP操作5倍，即几倍就有几次操作<br>
实际上是质因数分解问题，求质因子和</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minSteps</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> d = <span class="number">2</span>; d &lt;= Math.sqrt(n); d++) &#123;</span><br><span class="line">            <span class="comment">//发现一个质因子，穷尽所有倍数</span></span><br><span class="line">            <span class="keyword">while</span> (n % d == <span class="number">0</span>) &#123;</span><br><span class="line">                s += d;</span><br><span class="line">                n /= d;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//n本身是质数</span></span><br><span class="line">        <span class="keyword">if</span> (n != <span class="number">1</span>)&#123;</span><br><span class="line">            s += n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="数列">数列</h1>
<hr>
<h2 id="❀400-nth-digit">❀400. Nth Digit</h2>
<blockquote>
<p>求1,2,3…排列下第n个数位</p>
</blockquote>
<p>1~9共10个数字长度1  10~99共90个数字长度2  100~999共900个数字长度3<br>
先定位在哪个长度范围，再定位范围内第几个数，再定位具体数位</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findNthDigit</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> begin = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">long</span> range = <span class="number">9</span>;</span><br><span class="line">        <span class="keyword">int</span> digit = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//乘积有溢出风险，注意使用大范围long</span></span><br><span class="line">        <span class="keyword">while</span>(n &gt; range*digit) &#123;</span><br><span class="line">            n -= range*digit;</span><br><span class="line">            begin *= <span class="number">10</span>;</span><br><span class="line">            range *= <span class="number">10</span>;</span><br><span class="line">            digit++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//定位数字</span></span><br><span class="line">        <span class="keyword">int</span> number = begin + (n-<span class="number">1</span>)/digit;</span><br><span class="line">        <span class="comment">//定位数位</span></span><br><span class="line">        <span class="keyword">int</span> index = (n-<span class="number">1</span>) % digit;</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(number).charAt(index) - <span class="string">'0'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀60-permutation-sequence">❀60. Permutation Sequence</h2>
<blockquote>
<p>求第k个由1~n构成的排列</p>
</blockquote>
<p>直接回溯遍历所有可能开销太大，找规律求<br>
第一层由单个数字开头的有<code>(n-1)!</code>个排列，可以根据这个定位第一位是什么数字<br>
依次逐层定位<br>
因为排列无法重用数字，维护set存储哪些数字使用过，便于找出下一个可用数字<br>
题目k从1开始，转化为从0开始更有利</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPermutation</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="comment">//计算n!</span></span><br><span class="line">        <span class="keyword">int</span> factor = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            factor *= i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//base 0</span></span><br><span class="line">        k = k - <span class="number">1</span>;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            factor = factor/i;</span><br><span class="line">            <span class="keyword">int</span> skip = k/factor;</span><br><span class="line">            <span class="keyword">int</span> number = findNextNumber(skip,n,set);</span><br><span class="line">            sb.append(number);</span><br><span class="line">            set.add(number);</span><br><span class="line">            k = k % factor;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//从可用数字中跳过index个之后的数字</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findNextNumber</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> n, Set&lt;Integer&gt; used)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> find = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!used.contains(i)) &#123;</span><br><span class="line">                find++;</span><br><span class="line">                <span class="keyword">if</span>(find &gt; index) &#123;</span><br><span class="line">                    <span class="keyword">return</span> i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀440-k-th-smallest-in-lexicographical-order">❀440. K-th Smallest in Lexicographical Order</h2>
<blockquote>
<p>字母序列下1,10,11,12,13…2,3…，求第k个数字</p>
</blockquote>
<p>在正常排列下插入，本质上是10叉树<br>
先辅助函数，计算n个数字下，两个数[n1,n2)之间有多少个数<br>
逐层计算,如果<code>n1 &lt; n2 &lt;= n</code>，那么本层n1~n2之间是满的,如果<code>n1 &lt;= n &lt; n2</code>, 那么本层不满，只算n~n1<br>
比如13个数，计算1和2之间有多少个数字，第一层1<sub>2，取1，第二层10</sub>20, 取10,11,12,13，共5个数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthNumber</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> curr = <span class="number">1</span>;</span><br><span class="line">        k--;</span><br><span class="line">        <span class="keyword">while</span> (k &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> steps = calSteps(n, curr, curr + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (steps &lt;= k) &#123;</span><br><span class="line">                <span class="comment">//平级跳</span></span><br><span class="line">                curr += <span class="number">1</span>;</span><br><span class="line">                k -= steps;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//下级找</span></span><br><span class="line">                curr *= <span class="number">10</span>;</span><br><span class="line">                k -= <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> curr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//use long in case of overflow</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calSteps</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">long</span> n1, <span class="keyword">long</span> n2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> steps = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n1 &lt;= n) &#123;</span><br><span class="line">            <span class="keyword">if</span>(n2 &lt;= n) &#123;</span><br><span class="line">                steps += n2 - n1;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                steps += n - n1 + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            n1 *= <span class="number">10</span>;</span><br><span class="line">            n2 *= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> steps;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀31-next-permutation">❀31. Next Permutation</h2>
<blockquote>
<p>下一个更大的排列，如果已经是最大，产出最小</p>
</blockquote>
<ol>
<li>最大的数字是全降序，尝试从原排列末尾找到降序段</li>
<li>末尾已经是最大，需要把前面置换成稍大一点的数</li>
<li>最后把末尾段翻转成升序</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//找到末尾降序段的起点</span></span><br><span class="line">        <span class="keyword">while</span>(i &gt; <span class="number">0</span> &amp;&amp; nums[i-<span class="number">1</span>] &gt;= nums[i]) &#123;</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">0</span>) &#123;</span><br><span class="line">            reverse(nums, <span class="number">0</span>, nums.length-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> border = nums[i-<span class="number">1</span>], largerIdx = i;</span><br><span class="line">        <span class="comment">//从降序段中选出一个稍大的数</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; nums.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[j] &gt; border) &#123;</span><br><span class="line">                largerIdx = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//交换</span></span><br><span class="line">        nums[i-<span class="number">1</span>] = nums[largerIdx];</span><br><span class="line">        nums[largerIdx] = border;</span><br><span class="line">        <span class="comment">//降序段翻转变为升序段，成为最小</span></span><br><span class="line">        reverse(nums, i, nums.length-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = begin,j = end; i &lt; j; i++,j--) &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">            nums[i] = nums[j];</span><br><span class="line">            nums[j] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1103-distribute-candies-to-people">1103. Distribute Candies to People</h2>
<blockquote>
<p>给定蜡烛数量和人数量，从1开始递增轮发直到发完，求最终每个人分到数量</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] distributeCandies(<span class="keyword">int</span> candies, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; candies &gt; <span class="number">0</span>; i++) &#123;</span><br><span class="line">            res[i % n] += Math.min(candies, i + <span class="number">1</span>);</span><br><span class="line">            candies -= (i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀89-gray-code">❀89. Gray Code</h2>
<blockquote>
<p>生成n个数位的格雷码序列，即相邻数字只有一位二进制不同</p>
</blockquote>
<p>每多一位扩展一倍，即当前已有部分作为前半部分，后半部分反向增加高位，反向确保了邻接处只有最高位不同</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">00 01 11 10 -&gt; (0)00 (0)01 (0)11 (0)10  (1)10 (1)11 (1)01 (1)00</span><br></pre></td></tr></table></figure>
<p>初始是0，依次开始生成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">grayCode</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result =<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        result.add(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> size=result.size();</span><br><span class="line">            <span class="keyword">int</span> newBit = <span class="number">1</span>&lt;&lt;i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=size-<span class="number">1</span>;k&gt;=<span class="number">0</span>;k--) &#123;</span><br><span class="line">                result.add(result.get(k) | newBit);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀413-arithmetic-slices">❀413. Arithmetic Slices</h2>
<blockquote>
<p>一个数组，求有多少子数组是等差数列</p>
</blockquote>
<p>等差数列的子列必然还是等差，并且n个数字的等差数列<br>
长为n有一个，长为n-1有两个，…长为3的有n-2个，总数为(n-1)*(n-2)/2个<br>
分解成两个过程，先从数组中找到每个等差数列长度，然后计算每个等差数列能有多少子数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numberOfArithmeticSlices</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = A.length;</span><br><span class="line">        <span class="keyword">if</span>(n &lt; <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>, start = <span class="number">0</span>, prevDiff = A[<span class="number">1</span>] - A[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> currDiff = A[i] - A[i-<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(currDiff != prevDiff) &#123;</span><br><span class="line">                result += numberOfArithmeticSlices(i - start);</span><br><span class="line">                start = i - <span class="number">1</span>;</span><br><span class="line">                prevDiff = currDiff;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        result += numberOfArithmeticSlices(n - start);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//n个数字等差数列共有多少等差子数组</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">numberOfArithmeticSlices</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n &gt;= <span class="number">3</span> ? (n-<span class="number">1</span>)*(n-<span class="number">2</span>)/<span class="number">2</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="幂">幂</h1>
<hr>
<h2 id="❀970-powerful-integers">❀970. Powerful Integers</h2>
<blockquote>
<p>xyij为正整数，求给定范围内所有能写成x^i + y^j的数</p>
</blockquote>
<p>1的幂次不会增大，需要特判。复用幂次，而不是每次Math.pow计算</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">powerfulIntegers</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> bound)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> a = <span class="number">1</span>; a &lt; bound ; a*=x) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> b = <span class="number">1</span>; a + b &lt;= bound; b*=y) &#123;</span><br><span class="line">                set.add(a + b);</span><br><span class="line">                <span class="keyword">if</span>(y == <span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(x == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(set);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="奇偶性">奇偶性</h1>
<hr>
<h2 id="❀985-sum-of-even-numbers-after-queries">❀985. Sum of Even Numbers After Queries</h2>
<blockquote>
<p>初始给定数组，给出一系列操作每次对某一元素增减，求每次操作后偶数的和</p>
</blockquote>
<p>每次操作后遍历性能差，先初始求偶数和，根据增减进行修正</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] sumEvenAfterQueries(<span class="keyword">int</span>[] A, <span class="keyword">int</span>[][] queries) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[queries.length];</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//初始偶数和</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : A) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                sum += i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; queries.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> idx = queries[i][<span class="number">1</span>], delta = queries[i][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">if</span>(A[idx] % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">//如果原来偶数变奇数，排除</span></span><br><span class="line">                sum += (delta % <span class="number">2</span>)== <span class="number">0</span> ? delta : -A[idx];</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//如果原来奇数变偶数，纳入</span></span><br><span class="line">                sum += (delta % <span class="number">2</span>)== <span class="number">0</span> ? <span class="number">0</span> : delta + A[idx];</span><br><span class="line">            &#125;</span><br><span class="line">            A[idx] += delta;</span><br><span class="line">            result[i] = sum;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="中心逼近">中心逼近</h1>
<hr>
<h2 id="❀633-sum-of-square-numbers">❀633. Sum of Square Numbers</h2>
<blockquote>
<p>判断是否是两个平方数的和</p>
</blockquote>
<p>两数数求和变种，平方数也是递增，双指针中心推进</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">judgeSquareSum</span><span class="params">(<span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>, high = (<span class="keyword">int</span>)Math.sqrt(c);</span><br><span class="line">        <span class="keyword">while</span>(low &lt;= high) &#123;</span><br><span class="line">            <span class="keyword">int</span> v = low*low + high*high;</span><br><span class="line">            <span class="keyword">if</span>(v &gt; c) &#123;</span><br><span class="line">                high--;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(v &lt; c) &#123;</span><br><span class="line">                low++;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="二分逼近">二分逼近</h1>
<hr>
<h2 id="❀69-sqrt-x">❀69. Sqrt(x)</h2>
<blockquote>
<p>求开方，结果保留整数部分</p>
</blockquote>
<p>用平方尝试，数字递增二分搜索<br>
如果平方数大于目标肯定不是结果，如果小于目标可能是结果，二分中点修正成右侧<br>
乘积用long避免溢出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> low = <span class="number">0</span>, high = x;</span><br><span class="line">        <span class="keyword">while</span>(low &lt; high) &#123;</span><br><span class="line">            <span class="keyword">long</span> mid = low + (high -low + <span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">long</span> result = mid * mid;</span><br><span class="line">            <span class="keyword">if</span>(result &gt; x) &#123;</span><br><span class="line">                high = mid -<span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(result &lt; x) &#123;</span><br><span class="line">                low = mid;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> (<span class="keyword">int</span>)mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>)low;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="492-construct-the-rectangle">492. Construct the Rectangle</h2>
<blockquote>
<p>给定面积，求长宽最接近的解</p>
</blockquote>
<p>开方，寻求正方形解，没有再遍历</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] constructRectangle(<span class="keyword">int</span> area) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = (<span class="keyword">int</span>)Math.sqrt(area); i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span>(area % i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;area/i, i&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不使用开方库函数，可以二分搜索代替</p>
<h2 id="367-valid-perfect-square">367. Valid Perfect Square</h2>
<blockquote>
<p>判断一个数是否为平方数</p>
</blockquote>
<p>二分搜索，平方可能溢出，使用long处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPerfectSquare</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> low = <span class="number">1</span>, high = num;</span><br><span class="line">        <span class="keyword">while</span>(low &lt;= high) &#123;</span><br><span class="line">            <span class="keyword">long</span> mid = low + (high - low) /<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">long</span> square = mid * mid;</span><br><span class="line">            <span class="keyword">if</span>(square &gt; num) &#123;</span><br><span class="line">                high = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(square &lt; num) &#123;</span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀441-arranging-coins">❀441. Arranging Coins</h2>
<blockquote>
<p>计算n能够成1+2+3+…中的几项</p>
</blockquote>
<p>用求和公式尝试，数字递增二分搜索</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">arrangeCoins</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> low = <span class="number">0</span>, high = n;</span><br><span class="line">        <span class="keyword">while</span>(low &lt; high) &#123;</span><br><span class="line">            <span class="keyword">long</span> mid = low + (high - low + <span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">long</span> sum = mid * (mid+<span class="number">1</span>) /<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(sum &gt; n) &#123;</span><br><span class="line">                high = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sum &lt; n)&#123;</span><br><span class="line">                low = mid;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> (<span class="keyword">int</span>)mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>)low;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="运算">运算</h1>
<hr>
<h2 id="❀415-add-strings">❀415. Add Strings</h2>
<blockquote>
<p>字符串数字相加，即大数加法</p>
</blockquote>
<p>相加是从尾部计算，因此最终结果逆序<br>
两个串不一定等长，注意循环和条件控制</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">addStrings</span><span class="params">(String num1, String num2)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> i = num1.length() - <span class="number">1</span>, j = num2.length() - <span class="number">1</span>, carry = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//不一定等长，相当于自动补0</span></span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = carry;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                sum += num1.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(j &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">                sum += num2.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(sum % <span class="number">10</span>);</span><br><span class="line">            carry = sum / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(carry != <span class="number">0</span>) &#123;</span><br><span class="line">            sb.append(carry);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="67-add-binary">67. Add Binary</h2>
<blockquote>
<p>二进制字符串相加</p>
</blockquote>
<p>和十进制流程一致</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">addBinary</span><span class="params">(String a, String b)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> i = a.length()-<span class="number">1</span>, j = b.length()-<span class="number">1</span>, carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = carry;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                sum +=  a.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                sum += b.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(sum % <span class="number">2</span>);</span><br><span class="line">            carry = sum/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(carry != <span class="number">0</span>) &#123;</span><br><span class="line">            sb.append(<span class="string">'1'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀989-add-to-array-form-of-integer">❀989. Add to Array-Form of Integer</h2>
<blockquote>
<p>用数组表示的数字与整数相加</p>
</blockquote>
<p>数字可能超大，不能转成整数表示，因此把数字拆成数位逐个进行相加<br>
这里利用链表头插，也可以先尾插，最后反转一下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">addToArrayForm</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> i = A.length - <span class="number">1</span>, carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || K &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = carry;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                sum += A[i];</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(K &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                sum += K % <span class="number">10</span>;</span><br><span class="line">                K = K / <span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            result.add(<span class="number">0</span>, sum % <span class="number">10</span>);</span><br><span class="line">            carry = sum / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(carry != <span class="number">0</span>) &#123;</span><br><span class="line">            result.add(<span class="number">0</span>, carry);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀66-plus-one">❀66. Plus One</h2>
<blockquote>
<p>数组加1</p>
</blockquote>
<p>数组加K的简化版，把1当成进位即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] plusOne(<span class="keyword">int</span>[] digits) &#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> carry = <span class="number">1</span>, i = digits.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = digits[i] + carry;</span><br><span class="line">            list.add(<span class="number">0</span>, sum % <span class="number">10</span>);</span><br><span class="line">            carry = sum/<span class="number">10</span>;</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(carry != <span class="number">0</span>) &#123;</span><br><span class="line">            list.add(<span class="number">0</span>, carry);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list.stream().mapToInt(Integer::intValue).toArray();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="括号表达式">括号表达式</h1>
<hr>
<h2 id="❀20-valid-parentheses">❀20. Valid Parentheses</h2>
<blockquote>
<p>三种括号，判断括号序列合法性</p>
</blockquote>
<p>左括号入栈，右括号尝试出栈匹配</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">'('</span> || c == <span class="string">'['</span> || c == <span class="string">'&#123;'</span>) &#123;</span><br><span class="line">                stack.push(c);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(stack.isEmpty())&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">char</span> left = stack.pop();</span><br><span class="line">                <span class="keyword">if</span>(c == <span class="string">')'</span> &amp;&amp; left != <span class="string">'('</span> || c==<span class="string">']'</span> &amp;&amp; left != <span class="string">'['</span> || c==<span class="string">'&#125;'</span> &amp;&amp; left != <span class="string">'&#123;'</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也可以遇到左括号入栈右括号，这样遇到右括号时判断是否和栈顶相等即可</p>
<h2 id="❀678-valid-parenthesis-string">❀678. Valid Parenthesis String</h2>
<blockquote>
<p>左右括号和<code>*</code>组成的序列，<code>*</code>可以代表一个任意括号或者空白，判断是否可能合法</p>
</blockquote>
<p>括号表达式合法的前提是左右括号相等，并且任意前缀左括号多于右括号<br>
记录未匹配的左括号数量上下限，下限小于0表示右括号多不合法，无意义可以忽略</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkValidString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>, high = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'('</span>) &#123;</span><br><span class="line">                low++;</span><br><span class="line">                high++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">')'</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (low &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    low--;</span><br><span class="line">                &#125;</span><br><span class="line">                high--;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//遇到*号比如原来[2,4],如果是左括号范围变为[3,5],如果是右括号范围变为[1,3],综合考虑为[1,5]</span></span><br><span class="line">                <span class="keyword">if</span> (low &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    low--;</span><br><span class="line">                &#125;</span><br><span class="line">                high++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//前缀右括号多，肯定不合法</span></span><br><span class="line">            <span class="keyword">if</span> (high &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> low == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀1021-remove-outermost-parentheses">❀1021. Remove Outermost Parentheses</h2>
<blockquote>
<p>移除每段括号最外层</p>
</blockquote>
<p>没必要用栈，只计数即可<br>
每次0时表示每段结束，丢弃每段的首尾括号</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">removeOuterParentheses</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : S.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">'('</span>) &#123;</span><br><span class="line">                left++;</span><br><span class="line">                <span class="comment">//第一个左括号不加</span></span><br><span class="line">                <span class="keyword">if</span>(left != <span class="number">1</span>) &#123;</span><br><span class="line">                    sb.append(c);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                left--;</span><br><span class="line">                <span class="comment">//最后一个右括号不加</span></span><br><span class="line">                <span class="keyword">if</span>(left != <span class="number">0</span>) &#123;</span><br><span class="line">                    sb.append(c);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="排列组合数">排列组合数</h1>
<hr>
<h2 id="1128-number-of-equivalent-domino-pairs">1128. Number of Equivalent Domino Pairs</h2>
<blockquote>
<p>一组数对范围1~9，按位相等或者交叉相等都认为数对相等，求相等的数对组数</p>
</blockquote>
<p>数对统计，比如(1,2)出现3次，那么自身组C(3,2)=3组，如果(2,1)出现2次，那么交叉组6对</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numEquivDominoPairs</span><span class="params">(<span class="keyword">int</span>[][] dominoes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] cnt = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span>[] d : dominoes) &#123;</span><br><span class="line">            cnt[d[<span class="number">0</span>]][d[<span class="number">1</span>]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">9</span>; j++) &#123;</span><br><span class="line">                res += cnt[i][j] * (cnt[i][j]-<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(i != j) &#123;</span><br><span class="line">                    res += cnt[i][j] * cnt[j][i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res/<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="随机">随机</h1>
<hr>
<h2 id="❀470-implement-rand10-using-rand7">❀470. Implement Rand10() Using Rand7()</h2>
<blockquote>
<p>使用1<sub>7生成1</sub>10随机</p>
</blockquote>
<p>单次7个结果不够，两次可以49个结果，49个结果不能均分10份，取前40个有效<br>
两次1<sub>7可以看做7进制0</sub>6，转为10进制0<sub>9，最后取余加1映射到1</sub>10<br>
有40/49的概率成功，几何分布期望是49/40次，每次调用2次rand7因此平均需要2.45次</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">SolBase</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rand10</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = rand7(), j = rand7();</span><br><span class="line">        <span class="keyword">int</span> val = (i-<span class="number">1</span>)*<span class="number">7</span> + (j-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(val &gt; <span class="number">39</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> rand10();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> (val % <span class="number">10</span>) + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="数字特性">数字特性</h1>
<hr>
<h2 id="❀670-maximum-swap">❀670. Maximum Swap</h2>
<blockquote>
<p>至多交换一次数位，使得数字最大化</p>
</blockquote>
<p>要最大化肯定尽可能把大的数字放在前面<br>
如果本身就是降序，那么已经最大<br>
交换后前面数字变大，后面变小，如果备选多个，那么选择后面位置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximumSwap</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        String s = String.valueOf(num);</span><br><span class="line">        <span class="comment">//建立数字和出现位置的映射</span></span><br><span class="line">        Map&lt;Integer, List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> digit = s.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">            map.putIfAbsent(digit, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            map.get(digit).add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//判定高位是否可以更大,计数排序思路</span></span><br><span class="line">        <span class="keyword">int</span> max = <span class="number">10</span>, cnt = <span class="number">0</span>, high = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">while</span>(cnt == <span class="number">0</span>) &#123;</span><br><span class="line">                max--;</span><br><span class="line">                cnt = map.get(max) != <span class="keyword">null</span> ? map.get(max).size() : <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i)-<span class="string">'0'</span> != max) &#123;</span><br><span class="line">                high = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cnt--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(high == -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//选择最后一次出现的位置交换</span></span><br><span class="line">            List&lt;Integer&gt; pos = map.get(max);</span><br><span class="line">            <span class="keyword">int</span> low = pos.get(pos.size()-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">char</span>[] array = s.toCharArray();</span><br><span class="line">            <span class="keyword">char</span> tmp = array[high];</span><br><span class="line">            array[high] = array[low];</span><br><span class="line">            array[low] = tmp;</span><br><span class="line">            <span class="keyword">return</span> Integer.valueOf(<span class="keyword">new</span> String(array));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
    <div class="donate_module">
        <div id="donate_board" class="donate_bar">
            <br>
            <a id="btn_donate" class="btn_donate" target="_self" href="javascript:;" title="Donate 打赏"></a>
        </div>
        <div id="donate_guide" class="donate_bar hidden">
            <br>
            <a href="/assets/reward/wechat_code.jpg"  class="fancybox">
                <img src="/assets/reward/wechat_code.jpg" title="微信打赏" height="190px" width="auto"/>
            </a>
            <span class="donate_space"></span>
            <a href="/assets/reward/alipay_code.jpg"  class="fancybox">
                <img src="/assets/reward/alipay_code.jpg" title="支付宝打赏" height="190px" width="auto"/>
            </a>
        </div>
        <span class="donate_txt">一分也是爱~</span> 
    </div>

        <div class="breakword">
    <hr>
    <p><strong>版权声明</strong></p>
    <p><img src="/assets/copyright/cc.png" alt=""></p>
    <p><a href="http://linest.github.io/leetcode/leetcode-number.html">This site</a> by <a href="mailto:xlinest@gmail.com">Linest</a> is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="external">Creative Commons BY-NC-ND 4.0 International License</a>.
    <br>由<a href="mailto:xlinest@gmail.com">Linest</a>创作并维护的博客采用<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="external">创作共用保留署名-非商业-禁止演绎4.0国际许可证</a>。</p>
    <p>本文永久链接：<a href="http://linest.github.io/leetcode/leetcode-number.html">http://linest.github.io/leetcode/leetcode-number.html</a></p>
</div>
      
    </div>
    
  </div>
  
    
  
</article>
<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
        <div class="toc-container tooltip-left">
            <i class="icon-font icon-category"></i>
            <div class="tooltip tooltip-east">
                <span class="tooltip-item">
                </span>
                <span class="tooltip-content">
                    <div class="toc-article">
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#总结"><span class="toc-number">1.</span> <span class="toc-text">总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#关注"><span class="toc-number">1.1.</span> <span class="toc-text">关注</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#操作"><span class="toc-number">1.2.</span> <span class="toc-text">操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#技巧"><span class="toc-number">1.3.</span> <span class="toc-text">技巧</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数位与进制"><span class="toc-number">2.</span> <span class="toc-text">数位与进制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀7-reverse-integer"><span class="toc-number">2.1.</span> <span class="toc-text">❀7. Reverse Integer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀9-palindrome-number"><span class="toc-number">2.2.</span> <span class="toc-text">❀9. Palindrome Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀504-base-7"><span class="toc-number">2.3.</span> <span class="toc-text">❀504. Base 7</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀405-convert-a-number-to-hexadecimal"><span class="toc-number">2.4.</span> <span class="toc-text">❀405. Convert a Number to Hexadecimal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀168-excel-sheet-column-title"><span class="toc-number">2.5.</span> <span class="toc-text">❀168. Excel Sheet Column Title</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀171-excel-sheet-column-number"><span class="toc-number">2.6.</span> <span class="toc-text">❀171. Excel Sheet Column Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀476-number-complement"><span class="toc-number">2.7.</span> <span class="toc-text">❀476. Number Complement</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#868-binary-gap"><span class="toc-number">2.8.</span> <span class="toc-text">868. Binary Gap</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#整除与余数"><span class="toc-number">3.</span> <span class="toc-text">整除与余数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀1018-binary-prefix-divisible-by-5"><span class="toc-number">3.1.</span> <span class="toc-text">❀1018. Binary Prefix Divisible By 5</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#728-self-dividing-numbers"><span class="toc-number">3.2.</span> <span class="toc-text">728. Self Dividing Numbers</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#反复操作"><span class="toc-number">4.</span> <span class="toc-text">反复操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀258-add-digits"><span class="toc-number">4.1.</span> <span class="toc-text">❀258. Add Digits</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀202-happy-number"><span class="toc-number">4.2.</span> <span class="toc-text">❀202. Happy Number</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#因子"><span class="toc-number">5.</span> <span class="toc-text">因子</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#326-power-of-three"><span class="toc-number">5.1.</span> <span class="toc-text">326. Power of Three</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#507-perfect-number"><span class="toc-number">5.2.</span> <span class="toc-text">507. Perfect Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀172-factorial-trailing-zeroes"><span class="toc-number">5.3.</span> <span class="toc-text">❀172. Factorial Trailing Zeroes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#412-fizz-buzz"><span class="toc-number">5.4.</span> <span class="toc-text">412. Fizz Buzz</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#263-ugly-number"><span class="toc-number">5.5.</span> <span class="toc-text">263. Ugly Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀264-ugly-number-ii"><span class="toc-number">5.6.</span> <span class="toc-text">❀264. Ugly Number II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#313-super-ugly-number"><span class="toc-number">5.7.</span> <span class="toc-text">313. Super Ugly Number</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#最大公约数"><span class="toc-number">6.</span> <span class="toc-text">最大公约数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀914-x-of-a-kind-in-a-deck-of-cards"><span class="toc-number">6.1.</span> <span class="toc-text">❀914. X of a Kind in a Deck of Cards</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#质数"><span class="toc-number">7.</span> <span class="toc-text">质数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀204-count-primes"><span class="toc-number">7.1.</span> <span class="toc-text">❀204. Count Primes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀650-2-keys-keyboard"><span class="toc-number">7.2.</span> <span class="toc-text">❀650. 2 Keys Keyboard</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数列"><span class="toc-number">8.</span> <span class="toc-text">数列</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀400-nth-digit"><span class="toc-number">8.1.</span> <span class="toc-text">❀400. Nth Digit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀60-permutation-sequence"><span class="toc-number">8.2.</span> <span class="toc-text">❀60. Permutation Sequence</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀440-k-th-smallest-in-lexicographical-order"><span class="toc-number">8.3.</span> <span class="toc-text">❀440. K-th Smallest in Lexicographical Order</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀31-next-permutation"><span class="toc-number">8.4.</span> <span class="toc-text">❀31. Next Permutation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1103-distribute-candies-to-people"><span class="toc-number">8.5.</span> <span class="toc-text">1103. Distribute Candies to People</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀89-gray-code"><span class="toc-number">8.6.</span> <span class="toc-text">❀89. Gray Code</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀413-arithmetic-slices"><span class="toc-number">8.7.</span> <span class="toc-text">❀413. Arithmetic Slices</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#幂"><span class="toc-number">9.</span> <span class="toc-text">幂</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀970-powerful-integers"><span class="toc-number">9.1.</span> <span class="toc-text">❀970. Powerful Integers</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#奇偶性"><span class="toc-number">10.</span> <span class="toc-text">奇偶性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀985-sum-of-even-numbers-after-queries"><span class="toc-number">10.1.</span> <span class="toc-text">❀985. Sum of Even Numbers After Queries</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#中心逼近"><span class="toc-number">11.</span> <span class="toc-text">中心逼近</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀633-sum-of-square-numbers"><span class="toc-number">11.1.</span> <span class="toc-text">❀633. Sum of Square Numbers</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二分逼近"><span class="toc-number">12.</span> <span class="toc-text">二分逼近</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀69-sqrt-x"><span class="toc-number">12.1.</span> <span class="toc-text">❀69. Sqrt(x)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#492-construct-the-rectangle"><span class="toc-number">12.2.</span> <span class="toc-text">492. Construct the Rectangle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#367-valid-perfect-square"><span class="toc-number">12.3.</span> <span class="toc-text">367. Valid Perfect Square</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀441-arranging-coins"><span class="toc-number">12.4.</span> <span class="toc-text">❀441. Arranging Coins</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#运算"><span class="toc-number">13.</span> <span class="toc-text">运算</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀415-add-strings"><span class="toc-number">13.1.</span> <span class="toc-text">❀415. Add Strings</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#67-add-binary"><span class="toc-number">13.2.</span> <span class="toc-text">67. Add Binary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀989-add-to-array-form-of-integer"><span class="toc-number">13.3.</span> <span class="toc-text">❀989. Add to Array-Form of Integer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀66-plus-one"><span class="toc-number">13.4.</span> <span class="toc-text">❀66. Plus One</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#括号表达式"><span class="toc-number">14.</span> <span class="toc-text">括号表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀20-valid-parentheses"><span class="toc-number">14.1.</span> <span class="toc-text">❀20. Valid Parentheses</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀678-valid-parenthesis-string"><span class="toc-number">14.2.</span> <span class="toc-text">❀678. Valid Parenthesis String</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀1021-remove-outermost-parentheses"><span class="toc-number">14.3.</span> <span class="toc-text">❀1021. Remove Outermost Parentheses</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#排列组合数"><span class="toc-number">15.</span> <span class="toc-text">排列组合数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1128-number-of-equivalent-domino-pairs"><span class="toc-number">15.1.</span> <span class="toc-text">1128. Number of Equivalent Domino Pairs</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#随机"><span class="toc-number">16.</span> <span class="toc-text">随机</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀470-implement-rand10-using-rand7"><span class="toc-number">16.1.</span> <span class="toc-text">❀470. Implement Rand10() Using Rand7()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数字特性"><span class="toc-number">17.</span> <span class="toc-text">数字特性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀670-maximum-swap"><span class="toc-number">17.1.</span> <span class="toc-text">❀670. Maximum Swap</span></a></li></ol></li></ol>
                    </div>
                </span>
            </div>
        </div>
        
    </div>
</aside>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2019 Linest
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> customized by <a href="#">Linest</a> with <span class="octicon octicon-heart" style="color:red"></span>
				</div>
				<div class="hide">
						<a href="https://clustrmaps.com/site/x7rd" title="Visit tracker"><img src="//clustrmaps.com/map_v2.png?cl=ffffff&w=70&t=n&d=trdgmMc8YDC9aFR4WIBOzfE8f6bNwx_Pq7HA9YiG3sA" /></a>
				</div>
    </div>
  </div>
</footer>

    </div>
    

<script>
	var yiliaConfig = {
		fancybox: false,
		animate: true,
		isHome: false,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		toc_hide_index: true
	}
</script>

<!-- Baidu auto push -->
<script>
(function(){
	var bp = document.createElement('script');
	var curProtocol = window.location.protocol.split(':')[0];
	if (curProtocol === 'https') {
		bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	}
	else {
		bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	}
	var s = document.getElementsByTagName("script")[0];
	s.parentNode.insertBefore(bp, s);
})();
</script>

<script src="/js/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>



  </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
<script>!function(i){var o=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function r(t,e){var n=new Image,i=t.getAttribute("data-original");n.onload=function(){t.src=i,e&&e()},n.src=i}function t(){for(var t=0;t<o.length;t++)e=o[t],void 0,0<=(n=e.getBoundingClientRect()).top&&0<=n.left&&n.top<=(i.innerHeight||document.documentElement.clientHeight)&&r(o[t],function(){o.splice(t,t)});var e,n}t(),i.addEventListener("scroll",t)}(this);</script></body>
</html>