<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Leetcode-数字篇 | Blog of Linest</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="总结  关注  正负 0 溢出  数位过长溢出 负数最大值变正数 整数加减法，最大值+1，最小值-1，最大值-最小值   字符串0开头  操作  进制转换 正向进制求值 逆向进制求值 因子 二分搜索求值 表达式按位运算  技巧  字符串溢出判断 使用long值类型，强转int比较是否数值还相等  12long val = Long.valueOf(str);boolean isOverflow =">
<meta property="og:type" content="website">
<meta property="og:title" content="Leetcode-数字篇">
<meta property="og:url" content="http://linest.github.io/leetcode/leetcode-number.html">
<meta property="og:site_name" content="Blog of Linest">
<meta property="og:description" content="总结  关注  正负 0 溢出  数位过长溢出 负数最大值变正数 整数加减法，最大值+1，最小值-1，最大值-最小值   字符串0开头  操作  进制转换 正向进制求值 逆向进制求值 因子 二分搜索求值 表达式按位运算  技巧  字符串溢出判断 使用long值类型，强转int比较是否数值还相等  12long val = Long.valueOf(str);boolean isOverflow =">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2020-04-14T01:16:41.349Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Leetcode-数字篇">
<meta name="twitter:description" content="总结  关注  正负 0 溢出  数位过长溢出 负数最大值变正数 整数加减法，最大值+1，最小值-1，最大值-最小值   字符串0开头  操作  进制转换 正向进制求值 逆向进制求值 因子 二分搜索求值 表达式按位运算  技巧  字符串溢出判断 使用long值类型，强转int比较是否数值还相等  12long val = Long.valueOf(str);boolean isOverflow =">
  
    <link rel="alternative" href="/atom.xml" title="Blog of Linest" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/fonts/octicons/octicons.css">
  <link rel="stylesheet" href="/css/fonts/font-awesome-4.6.3/css/font-awesome.min.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  
</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/assets/avatar/pika.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Linest</a></h1>
		</hgroup>

		
		<p class="header-subtitle">试验田|小黑屋|百宝箱|里程碑</p>
		

		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/linest" title="github">github</a>
					        
								<a class="mail" target="_blank" href="mailto:xlinest@gmail.com" title="mail">mail</a>
					        
						</div>
					</nav>
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/doodle">涂鸦</a></li>
				        
							<li><a href="/live2d">云撸猫</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/tagcloud">标签&amp;分类</a></li>
				        
						</ul>
					</nav>	
				</section>
				
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">勤奋的懒惰者
爱听故事的人~
Zjuer
</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Linest</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="/assets/avatar/pika.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Linest</h1>
			</hgroup>
			
			<p class="header-subtitle">试验田|小黑屋|百宝箱|里程碑</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/doodle">涂鸦</a></li>
		        
					<li><a href="/live2d">云撸猫</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tagcloud">标签&amp;分类</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/linest" title="github">github</a>
			        
						<a class="mail" target="_blank" href="mailto:xlinest@gmail.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="page-undefined" class="article article-type-page" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/leetcode/leetcode-number.html" class="article-date">
  	<time datetime="2020-04-14T01:16:41.349Z" itemprop="datePublished">2020-04-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Leetcode-数字篇
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="总结">总结</h1>
<hr>
<h2 id="关注">关注</h2>
<ul>
<li>正负</li>
<li>0</li>
<li>溢出
<ul>
<li>数位过长溢出</li>
<li>负数最大值变正数</li>
<li>整数加减法，最大值+1，最小值-1，最大值-最小值</li>
</ul>
</li>
<li>字符串0开头</li>
</ul>
<h2 id="操作">操作</h2>
<ul>
<li>进制转换</li>
<li>正向进制求值</li>
<li>逆向进制求值</li>
<li>因子</li>
<li>二分搜索求值</li>
<li>表达式按位运算</li>
</ul>
<h2 id="技巧">技巧</h2>
<ul>
<li>字符串溢出判断<br>
使用long值类型，强转int比较是否数值还相等</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> val = Long.valueOf(str);</span><br><span class="line"><span class="keyword">boolean</span> isOverflow = val == (<span class="keyword">int</span>)val;</span><br></pre></td></tr></table></figure>
<ul>
<li>构建追加溢出判断<br>
最大值末尾是7，判断前面是否已经超过或者前面相等末尾大于7，不能再继续乘10</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span> isOverflow = base &gt; Integer.MAX_VALUE / <span class="number">10</span> </span><br><span class="line">    || (base == Integer.MAX_VALUE / <span class="number">10</span> &amp;&amp; newDigit &gt; <span class="number">7</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>同时取首尾两个数位，预先构造10…0基底作为辅助</li>
</ul>
<h1 id="间隔">间隔</h1>
<hr>
<h2 id="❀163-missing-ranges">❀163. Missing Ranges</h2>
<blockquote>
<p>给升序数组和一个最大最小范围，求缺失部分</p>
</blockquote>
<p>顺序遍历求解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findMissingRanges</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; ranges = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">//数组为空，全部缺失</span></span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">            ranges.add(range(lower, upper));</span><br><span class="line">            <span class="keyword">return</span> ranges;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//与最小值之间的缺失</span></span><br><span class="line">        <span class="keyword">if</span> (lower &lt; nums[<span class="number">0</span>]) &#123;</span><br><span class="line">            ranges.add(range(lower, nums[<span class="number">0</span>]-<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">//注意会溢出</span></span><br><span class="line">            <span class="keyword">if</span> (nums[i-<span class="number">1</span>] != Integer.MAX_VALUE &amp;&amp; nums[i-<span class="number">1</span>] + <span class="number">1</span> &lt; nums[i] ) &#123;</span><br><span class="line">                ranges.add(range(nums[i-<span class="number">1</span>]+<span class="number">1</span>, nums[i]-<span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//与最大值之间的缺失</span></span><br><span class="line">        <span class="keyword">if</span> (nums[nums.length-<span class="number">1</span>] &lt; upper) &#123;</span><br><span class="line">            ranges.add(range(nums[nums.length-<span class="number">1</span>]+<span class="number">1</span>, upper));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ranges;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">range</span><span class="params">(<span class="keyword">int</span> lower, <span class="keyword">int</span> upper)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (lower == upper) &#123;</span><br><span class="line">            <span class="keyword">return</span> Integer.toString(lower);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> lower + <span class="string">"-&gt;"</span> + upper;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="数位与进制">数位与进制</h1>
<hr>
<h2 id="❀7-reverse-integer">❀7. Reverse Integer</h2>
<blockquote>
<p>逆转数字，溢出返回0</p>
</blockquote>
<p>逆向进制求值,考虑负数，溢出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//扩大范围，便于溢出处理</span></span><br><span class="line">        <span class="keyword">long</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//除10最终为0，无论正负</span></span><br><span class="line">        <span class="keyword">while</span>(x != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//取余支持负数，无需特殊处理</span></span><br><span class="line">            result = result * <span class="number">10</span> + x % <span class="number">10</span>;</span><br><span class="line">            <span class="comment">//溢出判断</span></span><br><span class="line">            <span class="keyword">if</span>((<span class="keyword">int</span>)result != result) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            x = x / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>)result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀9-palindrome-number">❀9. Palindrome Number</h2>
<blockquote>
<p>判断数字是否回文</p>
</blockquote>
<p>翻转数字基础上增加判断逻辑</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> n = x, result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">long</span> digit = n % <span class="number">10</span>;</span><br><span class="line">            n = n / <span class="number">10</span>;</span><br><span class="line">            result = result * <span class="number">10</span> + digit;</span><br><span class="line">            <span class="keyword">if</span>((<span class="keyword">int</span>)n != n) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result == x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀504-base-7">❀504. Base 7</h2>
<blockquote>
<p>10进制转7进制</p>
</blockquote>
<p>注意0特例，注意负数处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">convertToBase7</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> n = Math.abs(num);</span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">0</span>) &#123;</span><br><span class="line">            sb.append(n % <span class="number">7</span>);</span><br><span class="line">            n = n / <span class="number">7</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(num &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            sb.append(<span class="string">'-'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀405-convert-a-number-to-hexadecimal">❀❀405. Convert a Number to Hexadecimal</h2>
<blockquote>
<p>数字转16进制</p>
</blockquote>
<p>注意0特例<br>
避免开头0，从末尾开始处理<br>
直接采取取模和相除16时无法处理负数，因为负数取模是负数<br>
采用与操作代替取余，采用移位代替除，无符号移位，处理负数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toHex</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>(num != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//num % 16</span></span><br><span class="line">            <span class="keyword">int</span> hex = num &amp; <span class="number">0x0F</span>;</span><br><span class="line">            <span class="keyword">if</span>(hex &lt;= <span class="number">9</span>) &#123;</span><br><span class="line">                sb.append(hex);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                sb.append((<span class="keyword">char</span>)(<span class="string">'a'</span> + hex-<span class="number">10</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//num / 16</span></span><br><span class="line">            num = num &gt;&gt;&gt; <span class="number">4</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1271-hexspeak">1271. Hexspeak</h2>
<blockquote>
<p>数字转16进制后，0替换O，1替换I,判断是否全字母,非全字母就报错</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toHexspeak</span><span class="params">(String num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> n = Long.valueOf(num);</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"O"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">long</span> hex = n % <span class="number">16</span>;</span><br><span class="line">            <span class="keyword">if</span>(hex == <span class="number">0</span>) &#123;</span><br><span class="line">                sb.append(<span class="string">"O"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(hex == <span class="number">1</span>) &#123;</span><br><span class="line">                sb.append(<span class="string">"I"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(hex &gt;= <span class="number">2</span> &amp;&amp; hex &lt;=<span class="number">9</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">"ERROR"</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                sb.append((<span class="keyword">char</span>)(<span class="string">'A'</span> + hex - <span class="number">10</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            n = n / <span class="number">16</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀168-excel-sheet-column-title">❀168. Excel Sheet Column Title</h2>
<blockquote>
<p>输出Excel列名，1-&gt;A,26-&gt;Z,27-&gt;AA</p>
</blockquote>
<p>实际上是一种26进制，注意映射范围调整0~25</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">convertToTitle</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">0</span>) &#123;</span><br><span class="line">            n--;</span><br><span class="line">            sb.append((<span class="keyword">char</span>)(<span class="string">'A'</span>+ n  % <span class="number">26</span>));</span><br><span class="line">            n /= <span class="number">26</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀171-excel-sheet-column-number">❀171. Excel Sheet Column Number</h2>
<blockquote>
<p>Excel列转数字</p>
</blockquote>
<p>列使用A-Z表示1~26，是26进制，即26进制转10进制<br>
正向进制求值，移动高位，比如123 =&gt; 1,12,123</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">titleToNumber</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            num = num*<span class="number">26</span> + (s.charAt(i) - <span class="string">'A'</span> + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀476-number-complement">❀❀476. Number Complement</h2>
<blockquote>
<p>求一个正数反码表示的数字，二进制前面0不算</p>
</blockquote>
<p>比如5(101)变为2(010)<br>
逆向进制求值，扩大基底，比如<code>123 =&gt; 3*1 + 2*10 + 1*100</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findComplement</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>, base = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(num != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> complement = <span class="number">1</span> - num % <span class="number">2</span>;</span><br><span class="line">            result += complement*base;</span><br><span class="line">            num = num / <span class="number">2</span>;</span><br><span class="line">            base = base*<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="868-binary-gap">868. Binary Gap</h2>
<blockquote>
<p>相邻1之间的最长跨度</p>
</blockquote>
<p>二进制数位遍历加统计</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binaryGap</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> max = <span class="number">0</span>, gap = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(N != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(N % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(gap &gt; max)&#123;</span><br><span class="line">                    max = gap;</span><br><span class="line">                &#125;</span><br><span class="line">                gap = <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(gap != <span class="number">0</span>)&#123;</span><br><span class="line">                gap++;</span><br><span class="line">            &#125;</span><br><span class="line">            N = N/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1085-sum-of-digits-in-the-minimum-number">1085. Sum of Digits in the Minimum Number</h2>
<blockquote>
<p>最小数字数位求和，和值偶数返回1，奇数返回0</p>
</blockquote>
<p>数位和</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumOfDigits</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> min = A[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : A) &#123;</span><br><span class="line">            min = Math.min(min, i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(min != <span class="number">0</span>) &#123;</span><br><span class="line">            sum += min % <span class="number">10</span>;</span><br><span class="line">            min = min/<span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> - sum % <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="编解码">编解码</h1>
<hr>
<h2 id="❀12-integer-to-roman">❀12. Integer to Roman</h2>
<blockquote>
<p>数字转罗马字母</p>
</blockquote>
<p>实际上罗马字母是加法表示，从高到低<br>
把4和9特殊编码也作为一个单元</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">intToRoman</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            String[] roman = &#123;<span class="string">"M"</span>, <span class="string">"CM"</span>, <span class="string">"D"</span>, <span class="string">"CD"</span>, <span class="string">"C"</span>, <span class="string">"XC"</span>, <span class="string">"L"</span>, <span class="string">"XL"</span>, <span class="string">"X"</span>, <span class="string">"IX"</span>, <span class="string">"V"</span>, <span class="string">"IV"</span>, <span class="string">"I"</span>&#125;;</span><br><span class="line">            <span class="keyword">int</span>[] values = &#123;<span class="number">1000</span>, <span class="number">900</span>, <span class="number">500</span>, <span class="number">400</span>, <span class="number">100</span>, <span class="number">90</span>, <span class="number">50</span>, <span class="number">40</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span> &#125;;</span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (num &gt;<span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">while</span> (num &gt;= values[i]) &#123;</span><br><span class="line">                    num -= values[i];</span><br><span class="line">                    result.append(roman[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也可以预先码表表示，因为最大只有4个数位</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">intToRoman</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        String[] thousand = &#123;<span class="string">""</span>,<span class="string">"M"</span>,<span class="string">"MM"</span>,<span class="string">"MMM"</span>&#125;;</span><br><span class="line">        String[] hundred = &#123;<span class="string">""</span>,<span class="string">"C"</span>,<span class="string">"CC"</span>,<span class="string">"CCC"</span>,<span class="string">"CD"</span>,<span class="string">"D"</span>,<span class="string">"DC"</span>,<span class="string">"DCC"</span>,<span class="string">"DCCC"</span>,<span class="string">"CM"</span>&#125;;</span><br><span class="line">        String[] ten = &#123;<span class="string">""</span>,<span class="string">"X"</span>,<span class="string">"XX"</span>,<span class="string">"XXX"</span>,<span class="string">"XL"</span>,<span class="string">"L"</span>,<span class="string">"LX"</span>,<span class="string">"LXX"</span>,<span class="string">"LXXX"</span>,<span class="string">"XC"</span>&#125;;</span><br><span class="line">        String[] one = &#123;<span class="string">""</span>,<span class="string">"I"</span>,<span class="string">"II"</span>,<span class="string">"III"</span>,<span class="string">"IV"</span>,<span class="string">"V"</span>,<span class="string">"VI"</span>,<span class="string">"VII"</span>,<span class="string">"VIII"</span>,<span class="string">"IX"</span>&#125;;</span><br><span class="line"></span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        sb.append(thousand[num/<span class="number">1000</span>]);</span><br><span class="line">        num = num % <span class="number">1000</span>;</span><br><span class="line">        sb.append(hundred[num/<span class="number">100</span>]);</span><br><span class="line">        num = num % <span class="number">100</span>;</span><br><span class="line">        sb.append(ten[num/<span class="number">10</span>]);</span><br><span class="line">        num = num % <span class="number">10</span>;</span><br><span class="line">        sb.append(one[num]);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-roman-to-integer">13. Roman to Integer</h2>
<blockquote>
<p>罗马字母转数字</p>
</blockquote>
<p>从高到低转换</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">romanToInt</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        String[] roman = &#123;<span class="string">"M"</span>, <span class="string">"CM"</span>, <span class="string">"D"</span>, <span class="string">"CD"</span>, <span class="string">"C"</span>, <span class="string">"XC"</span>, <span class="string">"L"</span>, <span class="string">"XL"</span>, <span class="string">"X"</span>, <span class="string">"IX"</span>, <span class="string">"V"</span>, <span class="string">"IV"</span>, <span class="string">"I"</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span>[] values = &#123;<span class="number">1000</span>, <span class="number">900</span>, <span class="number">500</span>, <span class="number">400</span>, <span class="number">100</span>, <span class="number">90</span>, <span class="number">50</span>, <span class="number">40</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span> &#125;;</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>, num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; roman.length; i++) &#123;</span><br><span class="line">            <span class="keyword">while</span>(s.startsWith(roman[i], start)) &#123;</span><br><span class="line">                num += values[i];</span><br><span class="line">                start += roman[i].length();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="字符串解析">字符串解析</h1>
<hr>
<h2 id="❀8-string-to-integer-atoi">❀8. String to Integer (atoi)</h2>
<blockquote>
<p>字符串转数字</p>
</blockquote>
<p>首先跳过开头0，然后尝试找符号位，然后找数字，遇见不合法字符截断<br>
注意符号位只能出现在数字之前并且只能出现一次</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">myAtoi</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (str.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">boolean</span> findOp = <span class="keyword">false</span>, findNum = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> len = str.length();</span><br><span class="line">        <span class="keyword">int</span> sign = <span class="number">1</span>, base = <span class="number">0</span>, i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (i &lt; len &amp;&amp; str.charAt(i) == <span class="string">' '</span>) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (i &lt; len) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = str.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'-'</span> || c == <span class="string">'+'</span>) &#123;</span><br><span class="line">                <span class="comment">//已经找到符号或者已经开始数字</span></span><br><span class="line">                <span class="keyword">if</span>(findOp || findNum) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    findOp = <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                sign = c == <span class="string">'-'</span> ? -<span class="number">1</span> : <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(c &gt;= <span class="string">'0'</span> &amp;&amp; c &lt;= <span class="string">'9'</span>)&#123;</span><br><span class="line">                findNum = <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (base &gt; Integer.MAX_VALUE / <span class="number">10</span> </span><br><span class="line">                    || (base == Integer.MAX_VALUE / <span class="number">10</span> &amp;&amp; c - <span class="string">'0'</span> &gt; <span class="number">7</span>)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> (sign == <span class="number">1</span>) ? Integer.MAX_VALUE : Integer.MIN_VALUE;</span><br><span class="line">                &#125;</span><br><span class="line">                base = base*<span class="number">10</span> + (c - <span class="string">'0'</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> base * sign;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="整除与余数">整除与余数</h1>
<hr>
<h2 id="❀1018-binary-prefix-divisible-by-5">❀1018. Binary Prefix Divisible By 5</h2>
<blockquote>
<p>判断0~i部分构成的2进制数是否是5的倍数</p>
</blockquote>
<p>数组很长，不断增大数字会溢出<br>
5的倍数部分每次乘2还是倍数，因此只考虑保留5的余数即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Boolean&gt; <span class="title">prefixesDivBy5</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">        List&lt;Boolean&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : A) &#123;</span><br><span class="line">            num = num * <span class="number">2</span> + i;</span><br><span class="line">            num = num % <span class="number">5</span>;</span><br><span class="line">            res.add(num == <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="728-self-dividing-numbers">728. Self Dividing Numbers</h2>
<blockquote>
<p>给上下界，求数字能整除每一数位的数字</p>
</blockquote>
<p>常规每个数字进行判断即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">selfDividingNumbers</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = left; i &lt;= right; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(isSelfDividing(i)) &#123;</span><br><span class="line">                list.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isSelfDividing</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = n;</span><br><span class="line">        <span class="keyword">while</span>(num != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> i = num % <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">0</span> || n % i != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            num /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="反复操作">反复操作</h1>
<hr>
<h2 id="❀258-add-digits">❀258. Add Digits</h2>
<blockquote>
<p>各个数位相加，重复这一过程直到只有一位</p>
</blockquote>
<p>10=&gt;1，11-&gt;2,…,17=&gt;8,18=&gt;9,19=&gt;10=&gt;1<br>
存在规律，跟余9关</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">addDigits</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + (num - <span class="number">1</span>) % <span class="number">9</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀202-happy-number">❀202. Happy Number</h2>
<blockquote>
<p>求一个正数各个数位平方和，重复这一过程直到收敛，判断是否最终为1还是无限循环</p>
</blockquote>
<p>使用set记录序列，检测重复避免进入循环</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHappy</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(!set.contains(n)) &#123;</span><br><span class="line">            set.add(n);</span><br><span class="line">            <span class="keyword">int</span> sum = digitSquareSum(n);</span><br><span class="line">            <span class="keyword">if</span>(sum == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            n = sum;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">digitSquareSum</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>, tmp;</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">            tmp = n % <span class="number">10</span>;</span><br><span class="line">            sum += tmp * tmp;</span><br><span class="line">            n /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不管怎样都会循环，可以用链表快慢指针思想</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHappy</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> slow = n, fast = n;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            slow = digitSquareSum(slow);</span><br><span class="line">            fast = digitSquareSum(fast);</span><br><span class="line">            fast = digitSquareSum(fast);</span><br><span class="line">        &#125; <span class="keyword">while</span>(slow != fast);</span><br><span class="line">        <span class="keyword">return</span> slow == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">digitSquareSum</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>, tmp;</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">            tmp = n % <span class="number">10</span>;</span><br><span class="line">            sum += tmp * tmp;</span><br><span class="line">            n /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="因子">因子</h1>
<hr>
<h2 id="❀326-power-of-three">❀326. Power of Three</h2>
<blockquote>
<p>判断是否是3的幂次</p>
</blockquote>
<p>取巧法，求出整数范围内最大值，看是否整除</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPowerOfThree</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1162261467 is 3^19, which is biggest under int scope</span></span><br><span class="line">        <span class="keyword">return</span> ( n &gt; <span class="number">0</span> &amp;&amp;  <span class="number">1162261467</span> % n == <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="507-perfect-number">507. Perfect Number</h2>
<blockquote>
<p>判断一个数是否等于不含自身的因子之和</p>
</blockquote>
<p>求因子累和，使用开方缩减范围，需要注意因子重复</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkPerfectNumber</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(num &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= (<span class="keyword">int</span>)Math.sqrt(num); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(num % i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> a = i, b = num/i;</span><br><span class="line">                sum = (a==b) ? sum + a : sum + a + b;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num == sum - num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀172-factorial-trailing-zeroes">❀❀172. Factorial Trailing Zeroes</h2>
<blockquote>
<p>阶乘末尾0的个数</p>
</blockquote>
<p>阶乘可以看成一堆因子的乘积，因子2和5会产生0<br>
2数量足够多，只需要找出因子5的个数<br>
1-n范围内有一个5因子的数字个数为n/5,比如16有5,10,15三个<br>
需要考虑多个5情况，比如25包含2个5， 125包含3个5，因此需要不断除5</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trailingZeroes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(n != <span class="number">0</span>) &#123;</span><br><span class="line">            n = n /<span class="number">5</span>;</span><br><span class="line">            cnt += n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="412-fizz-buzz">412. Fizz Buzz</h2>
<blockquote>
<p>对3和5的倍数特殊处理</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">fizzBuzz</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=n ; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> mod3 = i % <span class="number">3</span>, mod5 = i % <span class="number">5</span>;</span><br><span class="line">            <span class="keyword">if</span>(mod3 == <span class="number">0</span> &amp;&amp; mod5 == <span class="number">0</span>) &#123;</span><br><span class="line">                list.add(<span class="string">"FizzBuzz"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(mod3 == <span class="number">0</span>) &#123;</span><br><span class="line">                list.add(<span class="string">"Fizz"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(mod5 == <span class="number">0</span>) &#123;</span><br><span class="line">                list.add(<span class="string">"Buzz"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                list.add(String.valueOf(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="263-ugly-number">263. Ugly Number</h2>
<blockquote>
<p>判断是否只包含因子2, 3, 5</p>
</blockquote>
<p>把所有2,3,5因子除尽，最后应该是1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isUgly</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(num &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(num % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            num = num / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(num % <span class="number">3</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            num = num / <span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(num % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            num = num / <span class="number">5</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀264-ugly-number-ii">❀❀264. Ugly Number II</h2>
<blockquote>
<p>第一个丑数是1，求第n个丑数</p>
</blockquote>
<p>235的幂次，更大的丑数可能是之前的某个乘235获得，每次3个候选值求最小</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthUglyNumber</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] ugly = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">int</span> index2 = <span class="number">0</span>, index3 = <span class="number">0</span>, index5 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> factor2 = <span class="number">1</span>, factor3 = <span class="number">1</span>, factor5 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> min = Math.min(Math.min(factor2,factor3),factor5);</span><br><span class="line">            ugly[i] = min;</span><br><span class="line">            <span class="keyword">if</span>(factor2 == min)&#123;</span><br><span class="line">                factor2 = <span class="number">2</span>*ugly[index2++];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(factor3 == min)&#123;</span><br><span class="line">                factor3 = <span class="number">3</span>*ugly[index3++];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(factor5 == min)&#123;</span><br><span class="line">                factor5 = <span class="number">5</span>*ugly[index5++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ugly[n-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="313-super-ugly-number">313. Super Ugly Number</h2>
<blockquote>
<p>求第n个超级丑数，指定质数因子</p>
</blockquote>
<p>思路一样，换数组处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthSuperUglyNumber</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] primes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> k = primes.length;</span><br><span class="line">        <span class="keyword">int</span>[] index = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">        <span class="keyword">int</span>[] candidates = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">        <span class="keyword">int</span>[] ugly = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line"></span><br><span class="line">        Arrays.fill(candidates, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> min = getMin(candidates);</span><br><span class="line">            ugly[i] = min;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(candidates[j] == min) &#123;</span><br><span class="line">                    candidates[j] = ugly[index[j]] * primes[j];</span><br><span class="line">                    index[j]++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ugly[n-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> min = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            min = Math.min(min, nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="最大公约数">最大公约数</h1>
<hr>
<p>0和n的最大公约数是n<br>
最小公倍数=两数乘积/最大公约数</p>
<h2 id="❀914-x-of-a-kind-in-a-deck-of-cards">❀914. X of a Kind in a Deck of Cards</h2>
<blockquote>
<p>判断是否可以分成数量相等的组，每组包含X个并且组内数字一样</p>
</blockquote>
<p>先统计每个数字个数，然后求最大公约数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasGroupsSizeX</span><span class="params">(<span class="keyword">int</span>[] deck)</span> </span>&#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; count = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : deck) &#123;</span><br><span class="line">            count.put(i, count.getOrDefault(i, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : count.values()) &#123;</span><br><span class="line">            res = gcd(i, res);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res &gt; <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">0</span> ? m : gcd(n, m % n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀365-water-and-jug-problem">❀365. Water and Jug Problem</h2>
<blockquote>
<p>水量无限，判断容量为x,y的两个杯子能否倒出z的水，即两个杯子储水量和为z</p>
</blockquote>
<p>根据裴蜀定理<code>a*x+b*y = k*GCD(x,y)</code>，两数任意系数和都是两数最大公约数的倍数<br>
正系数表示装满水，负系数表示倒掉，转化为目标是否是两杯子最大公约数的倍数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canMeasureWater</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> z)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//两个全满都不够肯定不可能</span></span><br><span class="line">        <span class="keyword">if</span>(x + y &lt; z) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//避免公约数为0情况</span></span><br><span class="line">        <span class="keyword">if</span>(x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> z == <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> z % gcd(x, y) == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(b != <span class="number">0</span> )&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = b;</span><br><span class="line">            b = a % b;</span><br><span class="line">            a = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>采用BFS加剪枝去重可以模拟<br>
初始状态(0,0) 产出状态倒满，倒空，互相倒共6种状态<br>
由于数组不能去重，可以使用list或者进行数字编码<br>
能实现的条件是单个量出或者两个之和可以量出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canMeasureWater</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> z)</span> </span>&#123;</span><br><span class="line">        Set&lt;List&lt;Integer&gt;&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        Queue&lt;List&lt;Integer&gt;&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; initial = Arrays.asList(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">        queue.offer(initial);</span><br><span class="line">        set.add(initial);</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">            List&lt;Integer&gt; state = queue.poll();</span><br><span class="line">            <span class="keyword">int</span> currX = state.get(<span class="number">0</span>), currY = state.get(<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">int</span> total = currX + currY;</span><br><span class="line">            <span class="keyword">if</span>(currX == z || currY == z || total == z) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            List&lt;List&lt;Integer&gt;&gt; next = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            next.add(Arrays.asList(x, currY));</span><br><span class="line">            next.add(Arrays.asList(currX, y));</span><br><span class="line">            next.add(Arrays.asList(<span class="number">0</span>, currY));</span><br><span class="line">            next.add(Arrays.asList(currX, <span class="number">0</span>));</span><br><span class="line">            next.add(Arrays.asList(total &gt;= y ? total-y : <span class="number">0</span>, total &gt;= y ? y : total));</span><br><span class="line">            next.add(Arrays.asList(total &gt;= x ? x : total, total &gt;= x ? total-x : <span class="number">0</span>));</span><br><span class="line">            <span class="keyword">for</span>(List&lt;Integer&gt; nextState : next) &#123;</span><br><span class="line">                <span class="keyword">if</span>(!set.contains(nextState)) &#123;</span><br><span class="line">                    set.add(nextState);</span><br><span class="line">                    queue.add(nextState);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>扩展：3个杯子8,5,3容量，8装满，量出4<br>
水量有限，就是8，那么把8看成外部系统，所有倒出的水回到8<br>
由于两个杯子最多装8总水量也是8，那么任意时刻都能倒满两个瓶子，相当于3,5两个瓶子水量无限</p>
<h1 id="质数">质数</h1>
<hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">0</span> || n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> k = (<span class="keyword">int</span>)Math.sqrt(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= k; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(n % i == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀204-count-primes">❀❀204. Count Primes</h2>
<blockquote>
<p>统计小于n的数里质数的个数</p>
</blockquote>
<p>范围标记排除，优于单个数字逐一判断<br>
没被标记就是质数，找到一个质数后，就把所有倍数标记成非质数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">boolean</span>[] notPrime = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(notPrime[i]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">2</span>; j*i &lt; n; j++) &#123;</span><br><span class="line">                notPrime[j*i] = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀650-2-keys-keyboard">❀650. 2 Keys Keyboard</h2>
<blockquote>
<p>初始有一个字母，只有两个操作全选复制和粘贴，问达到n个字母最少需要几次</p>
</blockquote>
<p>任意数字都能分解成质数乘积<br>
AP操作2倍，APP操作3倍，APPPP操作5倍，即几倍就有几次操作<br>
实际上是质因数分解问题，求质因子和，比如12 = 2 * 2 * 3即先AP操作变成两倍，再AP操作变成4倍，再APP操作变成12倍<br>
如果本身就是质数，那么只能单倍一个一个粘贴</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minSteps</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> d = <span class="number">2</span>; d &lt;= Math.sqrt(n); d++) &#123;</span><br><span class="line">            <span class="comment">//发现一个质因子，穷尽所有倍数</span></span><br><span class="line">            <span class="keyword">while</span> (n % d == <span class="number">0</span>) &#123;</span><br><span class="line">                s += d;</span><br><span class="line">                n /= d;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//n本身是质数</span></span><br><span class="line">        <span class="keyword">if</span> (n != <span class="number">1</span>)&#123;</span><br><span class="line">            s += n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="数列">数列</h1>
<hr>
<h2 id="❀❀400-nth-digit">❀❀400. Nth Digit</h2>
<blockquote>
<p>求1,2,3…排列下第n个数位</p>
</blockquote>
<p>1~9共9个数字长度1  10~99共90个数字长度2  100~999共900个数字长度3<br>
先定位在哪个长度范围，再定位范围内第几个数，再定位具体数位</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findNthDigit</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> begin = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">long</span> range = <span class="number">9</span>;</span><br><span class="line">        <span class="keyword">int</span> digit = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//乘积有溢出风险，注意使用大范围long</span></span><br><span class="line">        <span class="keyword">while</span>(n &gt; range*digit) &#123;</span><br><span class="line">            n -= range*digit;</span><br><span class="line">            <span class="comment">//起始数字</span></span><br><span class="line">            begin *= <span class="number">10</span>;</span><br><span class="line">            <span class="comment">//个数</span></span><br><span class="line">            range *= <span class="number">10</span>;</span><br><span class="line">            <span class="comment">//每个数字数位数</span></span><br><span class="line">            digit++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//定位数字</span></span><br><span class="line">        <span class="keyword">int</span> number = begin + (n-<span class="number">1</span>)/digit;</span><br><span class="line">        <span class="comment">//定位数位</span></span><br><span class="line">        <span class="keyword">int</span> index = (n-<span class="number">1</span>) % digit;</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(number).charAt(index) - <span class="string">'0'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀60-permutation-sequence">❀60. Permutation Sequence</h2>
<blockquote>
<p>求第k个由1~n构成的排列</p>
</blockquote>
<p>直接回溯遍历所有可能开销太大，找规律求<br>
第一层由单个数字开头的有<code>(n-1)!</code>个排列，可以根据这个定位第一位是什么数字<br>
依次逐层定位<br>
因为排列无法重用数字，维护set存储哪些数字使用过，便于找出下一个可用数字<br>
题目k从1开始，转化为从0开始更有利</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPermutation</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="comment">//计算n!</span></span><br><span class="line">        <span class="keyword">int</span> factor = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            factor *= i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//base 0</span></span><br><span class="line">        k = k - <span class="number">1</span>;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            factor = factor/i;</span><br><span class="line">            <span class="keyword">int</span> skip = k/factor;</span><br><span class="line">            <span class="keyword">int</span> number = findNextNumber(skip,n,set);</span><br><span class="line">            sb.append(number);</span><br><span class="line">            set.add(number);</span><br><span class="line">            k = k % factor;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//从可用数字中跳过index个之后的数字</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findNextNumber</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> n, Set&lt;Integer&gt; used)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> find = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!used.contains(i)) &#123;</span><br><span class="line">                find++;</span><br><span class="line">                <span class="keyword">if</span>(find &gt; index) &#123;</span><br><span class="line">                    <span class="keyword">return</span> i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀440-k-th-smallest-in-lexicographical-order">❀❀440. K-th Smallest in Lexicographical Order</h2>
<blockquote>
<p>字母序列下1,10,11,12,13…2,3…，求第k个数字</p>
</blockquote>
<p>在正常排列下插入，本质上是10叉树<br>
先辅助函数，计算n个数字下，两个数[n1,n2)之间有多少个数<br>
逐层计算,如果<code>n1 &lt; n2 &lt;= n</code>，那么本层n1~n2之间是满的,如果<code>n1 &lt;= n &lt; n2</code>, 那么本层不满，只算n~n1<br>
比如13个数，计算1和2之间有多少个数字，第一层1<sub>2，取1，第二层10</sub>20, 取10,11,12,13，共5个数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthNumber</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> curr = <span class="number">1</span>;</span><br><span class="line">        k--;</span><br><span class="line">        <span class="keyword">while</span> (k &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//到下一个数之间有多少个数</span></span><br><span class="line">            <span class="keyword">int</span> steps = calSteps(n, curr, curr + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (steps &lt;= k) &#123;</span><br><span class="line">                <span class="comment">//平级跳</span></span><br><span class="line">                curr += <span class="number">1</span>;</span><br><span class="line">                k -= steps;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//下级找</span></span><br><span class="line">                curr *= <span class="number">10</span>;</span><br><span class="line">                k -= <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> curr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//use long in case of overflow</span></span><br><span class="line">    <span class="comment">//[n1,n2)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calSteps</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">long</span> n1, <span class="keyword">long</span> n2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> steps = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n1 &lt;= n) &#123;</span><br><span class="line">            <span class="keyword">if</span>(n2 &lt;= n) &#123;</span><br><span class="line">                steps += n2 - n1;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                steps += n - n1 + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            n1 *= <span class="number">10</span>;</span><br><span class="line">            n2 *= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> steps;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>直接深度优先生成会超时</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cnt;</span><br><span class="line">    <span class="keyword">int</span> result;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthNumber</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        cnt = k;</span><br><span class="line">        lexicalOrder(n);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">lexicalOrder</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++)&#123;</span><br><span class="line">            dfs(i, n);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> curr, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(curr &gt; n) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt--;</span><br><span class="line">        <span class="keyword">if</span>(cnt == <span class="number">0</span>) &#123;</span><br><span class="line">            result = curr;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> num = curr*<span class="number">10</span> + i;</span><br><span class="line">            dfs(num, n);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀386-lexicographical-numbers">❀386. Lexicographical Numbers</h2>
<blockquote>
<p>生成1-n的字母序数列</p>
</blockquote>
<p>DFS深度优先生成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">lexicalOrder</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++)&#123;</span><br><span class="line">            dfs(i, n, list);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> curr, <span class="keyword">int</span> n, List&lt;Integer&gt; list)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(curr &gt; n) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        list.add(curr);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> num = curr*<span class="number">10</span> + i;</span><br><span class="line">            dfs(num, n, list);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>迭代生成, 根据数列特点</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">lexicalOrder</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">1</span>, cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(cnt &lt; n) &#123;</span><br><span class="line">            list.add(num);</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="comment">//如果下一层还是小于目标，那么去下一层</span></span><br><span class="line">            <span class="keyword">while</span>(cnt &lt; n &amp;&amp; num * <span class="number">10</span> &lt;= n)&#123;</span><br><span class="line">                num = num * <span class="number">10</span>;</span><br><span class="line">                list.add(num);</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//最后一层每次加1微调，末尾9跳出避免进位，达到目标也跳出</span></span><br><span class="line">            <span class="keyword">while</span>(cnt &lt; n &amp;&amp; num &lt; n &amp;&amp; num % <span class="number">10</span> != <span class="number">9</span>)&#123;</span><br><span class="line">                num = num + <span class="number">1</span>;</span><br><span class="line">                list.add(num);</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//当前层无法继续，尝试去上层找，如果末尾连续9都无法继续，需要一直向上</span></span><br><span class="line">            <span class="keyword">if</span>(num == n || num % <span class="number">10</span> == <span class="number">9</span>)&#123;</span><br><span class="line">                num = num/<span class="number">10</span>;</span><br><span class="line">                <span class="keyword">while</span>(num % <span class="number">10</span> == <span class="number">9</span>)&#123;</span><br><span class="line">                    num = num/<span class="number">10</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                num++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀31-next-permutation">❀31. Next Permutation</h2>
<blockquote>
<p>下一个更大的排列，如果已经是最大，产出最小</p>
</blockquote>
<ol>
<li>最大的数字是全降序，尝试从原排列末尾找到降序段</li>
<li>末尾已经是最大，需要把前面置换成稍大一点的数</li>
<li>最后把末尾段翻转成升序</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//找到末尾降序段的起点</span></span><br><span class="line">        <span class="keyword">while</span>(i &gt; <span class="number">0</span> &amp;&amp; nums[i-<span class="number">1</span>] &gt;= nums[i]) &#123;</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">0</span>) &#123;</span><br><span class="line">            reverse(nums, <span class="number">0</span>, nums.length-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//下降段前面的数为要变更的目标数</span></span><br><span class="line">        <span class="keyword">int</span> border = nums[i-<span class="number">1</span>], largerIdx = i;</span><br><span class="line">        <span class="comment">//从降序段中选出一个稍大的数</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; nums.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[j] &gt; border) &#123;</span><br><span class="line">                largerIdx = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//交换，交换后依然是降序</span></span><br><span class="line">        nums[i-<span class="number">1</span>] = nums[largerIdx];</span><br><span class="line">        nums[largerIdx] = border;</span><br><span class="line">        <span class="comment">//降序段翻转变为升序段，成为最小</span></span><br><span class="line">        reverse(nums, i, nums.length-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = begin,j = end; i &lt; j; i++,j--) &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">            nums[i] = nums[j];</span><br><span class="line">            nums[j] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="556-next-greater-element-iii">556. Next Greater Element III</h2>
<blockquote>
<p>32位范围内数字数位相同，求下一更大的数</p>
</blockquote>
<p>与求排列相同，增加溢出判断即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nextGreaterElement</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] nums = String.valueOf(n).toCharArray();</span><br><span class="line">        <span class="keyword">int</span> i = nums.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(i &gt; <span class="number">0</span> &amp;&amp; nums[i-<span class="number">1</span>] &gt;= nums[i]) &#123;</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span> border = nums[i-<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> largerIdx = i;</span><br><span class="line">        <span class="comment">//从降序段中选出一个稍大的数</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; nums.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[j] &gt; border) &#123;</span><br><span class="line">                largerIdx = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        nums[i-<span class="number">1</span>] = nums[largerIdx];</span><br><span class="line">        nums[largerIdx] = border;</span><br><span class="line">        reverse(nums, i, nums.length-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">long</span> res = Long.valueOf(<span class="keyword">new</span> String(nums));</span><br><span class="line">        <span class="keyword">return</span> res &gt; Integer.MAX_VALUE ? -<span class="number">1</span> : (<span class="keyword">int</span>)res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">char</span>[] nums, <span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = begin,j = end; i &lt; j; i++,j--) &#123;</span><br><span class="line">            <span class="keyword">char</span> tmp = nums[i];</span><br><span class="line">            nums[i] = nums[j];</span><br><span class="line">            nums[j] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1103-distribute-candies-to-people">1103. Distribute Candies to People</h2>
<blockquote>
<p>给定蜡烛数量和人数量，从1开始递增轮发直到发完，求最终每个人分到数量</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] distributeCandies(<span class="keyword">int</span> candies, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; candies &gt; <span class="number">0</span>; i++) &#123;</span><br><span class="line">            res[i % n] += Math.min(candies, i + <span class="number">1</span>);</span><br><span class="line">            candies -= (i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀89-gray-code">❀89. Gray Code</h2>
<blockquote>
<p>生成n个数位的格雷码序列，即相邻数字只有一位二进制不同</p>
</blockquote>
<p>每多一位扩展一倍，即当前已有部分作为前半部分，后半部分反向增加高位，反向确保了邻接处只有最高位不同</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">00 01 11 10 -&gt; (0)00 (0)01 (0)11 (0)10  (1)10 (1)11 (1)01 (1)00</span><br></pre></td></tr></table></figure>
<p>初始是0，依次开始生成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">grayCode</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result =<span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        result.add(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> size=result.size();</span><br><span class="line">            <span class="keyword">int</span> newBit = <span class="number">1</span>&lt;&lt;i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=size-<span class="number">1</span>;k&gt;=<span class="number">0</span>;k--) &#123;</span><br><span class="line">                result.add(result.get(k) | newBit);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀413-arithmetic-slices">❀413. Arithmetic Slices</h2>
<blockquote>
<p>一个数组，求有多少子数组是等差数列</p>
</blockquote>
<p>至少3个数字构成等差，等差数列的子列必然还是等差，并且n个数字的等差数列<br>
长为n有一个，长为n-1有两个，…长为3的有n-2个，即1+2+…+(n-2),总数为(n-1)*(n-2)/2个<br>
分解成两个过程，先从数组中找到每个等差数列长度，然后计算每个等差数列能有多少子数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numberOfArithmeticSlices</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = A.length;</span><br><span class="line">        <span class="keyword">if</span>(n &lt; <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>, start = <span class="number">0</span>, prevDiff = A[<span class="number">1</span>] - A[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> currDiff = A[i] - A[i-<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(currDiff != prevDiff) &#123;</span><br><span class="line">                result += numberOfArithmeticSlices(i - start);</span><br><span class="line">                <span class="comment">//间隔变化，新起点</span></span><br><span class="line">                start = i - <span class="number">1</span>;</span><br><span class="line">                prevDiff = currDiff;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        result += numberOfArithmeticSlices(n - start);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//n个数字等差数列共有多少等差子数组</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">numberOfArithmeticSlices</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n &gt;= <span class="number">3</span> ? (n-<span class="number">1</span>)*(n-<span class="number">2</span>)/<span class="number">2</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀1215-stepping-numbers">❀1215. Stepping Numbers</h2>
<blockquote>
<p>寻找范围内所有相邻数位差1的数字</p>
</blockquote>
<p>BFS生成，范围筛选<br>
首先单个数位都满足，置入1~9<br>
下面生成两位的，根据末尾数字先小于，再大于，保持有序<br>
依次生成，避免溢出采取long</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">countSteppingNumbers</span><span class="params">(<span class="keyword">int</span> low, <span class="keyword">int</span> high)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (low &gt; high) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (low == <span class="number">0</span>) &#123;</span><br><span class="line">            res.add(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;Long&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">long</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">            queue.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">long</span> p = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (p &lt; high) &#123;</span><br><span class="line">                <span class="keyword">long</span> last = p % <span class="number">10</span>;</span><br><span class="line">                <span class="keyword">if</span> (last &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    queue.add(p * <span class="number">10</span> + last - <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (last &lt; <span class="number">9</span>) &#123;</span><br><span class="line">                    queue.add(p * <span class="number">10</span> + last + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (p &gt;= low &amp;&amp; p &lt;= high) &#123;</span><br><span class="line">                res.add((<span class="keyword">int</span>) p);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="多项式">多项式</h1>
<hr>
<h2 id="❀970-powerful-integers">❀970. Powerful Integers</h2>
<blockquote>
<p>xyij为正整数，求给定范围内所有能写成x^i + y^j的数</p>
</blockquote>
<p>1的幂次不会增大，需要特判。复用幂次，而不是每次Math.pow计算</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">powerfulIntegers</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> bound)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> xPart = <span class="number">1</span>; xPart &lt; bound ; xPart*=x) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> yPart = <span class="number">1</span>; xPart + yPart &lt;= bound; yPart*=y) &#123;</span><br><span class="line">                set.add(xPart + yPart);</span><br><span class="line">                <span class="keyword">if</span>(y == <span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(x == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(set);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="奇偶性">奇偶性</h1>
<hr>
<h2 id="❀985-sum-of-even-numbers-after-queries">❀985. Sum of Even Numbers After Queries</h2>
<blockquote>
<p>初始给定数组，给出一系列操作每次对某一元素增减，求每次操作后偶数的和</p>
</blockquote>
<p>每次操作后遍历性能差，先初始求偶数和，根据增减进行修正</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] sumEvenAfterQueries(<span class="keyword">int</span>[] A, <span class="keyword">int</span>[][] queries) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[queries.length];</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//初始偶数和</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i : A) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                sum += i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; queries.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> idx = queries[i][<span class="number">1</span>], delta = queries[i][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">if</span>(A[idx] % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">//如果原来偶数变奇数，排除</span></span><br><span class="line">                sum += (delta % <span class="number">2</span>)== <span class="number">0</span> ? delta : -A[idx];</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//如果原来奇数变偶数，纳入</span></span><br><span class="line">                sum += (delta % <span class="number">2</span>)== <span class="number">0</span> ? <span class="number">0</span> : delta + A[idx];</span><br><span class="line">            &#125;</span><br><span class="line">            A[idx] += delta;</span><br><span class="line">            result[i] = sum;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="中心逼近">中心逼近</h1>
<hr>
<h2 id="❀633-sum-of-square-numbers">❀633. Sum of Square Numbers</h2>
<blockquote>
<p>判断是否是两个平方数的和</p>
</blockquote>
<p>两数数求和变种，平方数也是递增，双指针中心推进</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">judgeSquareSum</span><span class="params">(<span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>, high = (<span class="keyword">int</span>)Math.sqrt(c);</span><br><span class="line">        <span class="keyword">while</span>(low &lt;= high) &#123;</span><br><span class="line">            <span class="keyword">int</span> v = low*low + high*high;</span><br><span class="line">            <span class="keyword">if</span>(v &gt; c) &#123;</span><br><span class="line">                high--;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(v &lt; c) &#123;</span><br><span class="line">                low++;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="二分逼近">二分逼近</h1>
<hr>
<h2 id="❀69-sqrt-x">❀69. Sqrt(x)</h2>
<blockquote>
<p>求开方，结果保留整数部分</p>
</blockquote>
<p>用平方尝试，数字递增二分搜索<br>
如果平方数大于目标肯定不是结果，如果小于目标可能是结果，二分中点修正成右侧<br>
乘积用long避免溢出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> low = <span class="number">0</span>, high = x;</span><br><span class="line">        <span class="keyword">while</span>(low &lt; high) &#123;</span><br><span class="line">            <span class="keyword">long</span> mid = low + (high -low + <span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">long</span> result = mid * mid;</span><br><span class="line">            <span class="keyword">if</span>(result &gt; x) &#123;</span><br><span class="line">                high = mid -<span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(result &lt; x) &#123;</span><br><span class="line">                low = mid;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> (<span class="keyword">int</span>)mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>)low;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="492-construct-the-rectangle">492. Construct the Rectangle</h2>
<blockquote>
<p>给定面积，求长宽最接近的解</p>
</blockquote>
<p>开方，寻求正方形解，没有再遍历</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] constructRectangle(<span class="keyword">int</span> area) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = (<span class="keyword">int</span>)Math.sqrt(area); i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span>(area % i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;area/i, i&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不使用开方库函数，可以二分搜索代替</p>
<h2 id="367-valid-perfect-square">367. Valid Perfect Square</h2>
<blockquote>
<p>判断一个数是否为平方数</p>
</blockquote>
<p>二分搜索，平方可能溢出，使用long处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPerfectSquare</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> low = <span class="number">1</span>, high = num;</span><br><span class="line">        <span class="keyword">while</span>(low &lt;= high) &#123;</span><br><span class="line">            <span class="keyword">long</span> mid = low + (high - low) /<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">long</span> square = mid * mid;</span><br><span class="line">            <span class="keyword">if</span>(square &gt; num) &#123;</span><br><span class="line">                high = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(square &lt; num) &#123;</span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀441-arranging-coins">❀441. Arranging Coins</h2>
<blockquote>
<p>计算n能够成1+2+3+…中的几项</p>
</blockquote>
<p>用求和公式尝试，数字递增二分搜索</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">arrangeCoins</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> low = <span class="number">0</span>, high = n;</span><br><span class="line">        <span class="keyword">while</span>(low &lt; high) &#123;</span><br><span class="line">            <span class="keyword">long</span> mid = low + (high - low + <span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">long</span> sum = mid * (mid+<span class="number">1</span>) /<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(sum &gt; n) &#123;</span><br><span class="line">                high = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sum &lt; n)&#123;</span><br><span class="line">                low = mid;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> (<span class="keyword">int</span>)mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>)low;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="运算">运算</h1>
<hr>
<h2 id="❀415-add-strings">❀415. Add Strings</h2>
<blockquote>
<p>字符串数字相加，即大数加法</p>
</blockquote>
<p>相加是从尾部计算，因此最终结果逆序<br>
两个串不一定等长，注意循环和条件控制</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">addStrings</span><span class="params">(String num1, String num2)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> i = num1.length() - <span class="number">1</span>, j = num2.length() - <span class="number">1</span>, carry = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//不一定等长，相当于自动补0</span></span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = carry;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                sum += num1.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(j &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">                sum += num2.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(sum % <span class="number">10</span>);</span><br><span class="line">            carry = sum / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(carry != <span class="number">0</span>) &#123;</span><br><span class="line">            sb.append(carry);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="67-add-binary">67. Add Binary</h2>
<blockquote>
<p>二进制字符串相加</p>
</blockquote>
<p>和十进制流程一致</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">addBinary</span><span class="params">(String a, String b)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> i = a.length()-<span class="number">1</span>, j = b.length()-<span class="number">1</span>, carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = carry;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                sum +=  a.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                sum += b.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(sum % <span class="number">2</span>);</span><br><span class="line">            carry = sum/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(carry != <span class="number">0</span>) &#123;</span><br><span class="line">            sb.append(<span class="string">'1'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀989-add-to-array-form-of-integer">❀989. Add to Array-Form of Integer</h2>
<blockquote>
<p>用数组表示的数字与整数相加</p>
</blockquote>
<p>数字可能超大，不能转成整数表示，因此把数字拆成数位逐个进行相加<br>
这里利用链表头插，也可以先尾插，最后反转一下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">addToArrayForm</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> i = A.length - <span class="number">1</span>, carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span> || K &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = carry;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                sum += A[i];</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(K &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                sum += K % <span class="number">10</span>;</span><br><span class="line">                K = K / <span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            result.add(<span class="number">0</span>, sum % <span class="number">10</span>);</span><br><span class="line">            carry = sum / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(carry != <span class="number">0</span>) &#123;</span><br><span class="line">            result.add(<span class="number">0</span>, carry);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀66-plus-one">❀66. Plus One</h2>
<blockquote>
<p>数组加1</p>
</blockquote>
<p>数组加K的简化版，把1当成进位即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] plusOne(<span class="keyword">int</span>[] digits) &#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> carry = <span class="number">1</span>, i = digits.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = digits[i] + carry;</span><br><span class="line">            list.add(<span class="number">0</span>, sum % <span class="number">10</span>);</span><br><span class="line">            carry = sum/<span class="number">10</span>;</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(carry != <span class="number">0</span>) &#123;</span><br><span class="line">            list.add(<span class="number">0</span>, carry);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list.stream().mapToInt(Integer::intValue).toArray();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀369-plus-one-linked-list">❀369. Plus One Linked List</h2>
<blockquote>
<p>链表加1</p>
</blockquote>
<p>可以逆序再逆序，或者直接递归处理，主要是处理进位问题</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">plusOne</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ListNode(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> carry = plusOneHelper(head);</span><br><span class="line">        <span class="keyword">if</span>(carry == <span class="number">1</span>) &#123;</span><br><span class="line">            ListNode n = <span class="keyword">new</span> ListNode(carry);</span><br><span class="line">            n.next = head;</span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">plusOneHelper</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//到达最末尾，返回1作为进位，相当于加1</span></span><br><span class="line">        <span class="keyword">if</span>(head == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> carry = plusOneHelper(head.next);</span><br><span class="line">        <span class="keyword">int</span> sum = head.val + carry;</span><br><span class="line">        head.val = sum % <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">return</span> sum/<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>还可以前后指针尝试找到末尾的999段，尝试处理进位<br>
伪节点能处理首进位</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">plusOne</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ListNode(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        dummy.next = head;</span><br><span class="line">        ListNode slow = dummy, fast = dummy;</span><br><span class="line">        <span class="keyword">while</span> (fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">//不为9不会产生进位问题</span></span><br><span class="line">            <span class="keyword">if</span> (fast.val != <span class="number">9</span>) &#123;</span><br><span class="line">                slow = fast;</span><br><span class="line">            &#125;</span><br><span class="line">            fast = fast.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//最后不是9，自增即可</span></span><br><span class="line">        <span class="keyword">if</span> (fast.val != <span class="number">9</span>) &#123;</span><br><span class="line">            fast.val++;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//产生进位</span></span><br><span class="line">            slow.val++;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//后面全置0</span></span><br><span class="line">        <span class="keyword">while</span> (slow != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow.val = <span class="number">0</span>;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy.val == <span class="number">0</span> ? dummy.next : dummy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀43-multiply-strings">❀❀43. Multiply Strings</h2>
<blockquote>
<p>两个非负数相乘</p>
</blockquote>
<p>长度m和n两个数，结果长度最多m+n<br>
视为各个数位的乘积，索引i和j两个数位乘积结果位于索引i+j+1<br>
先不考虑进位问题，都做完后专门处理一遍</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">multiply</span><span class="params">(String num1, String num2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n1 = num1.length(), n2 = num2.length();</span><br><span class="line">        <span class="keyword">int</span>[] products = <span class="keyword">new</span> <span class="keyword">int</span>[n1 + n2];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n1 - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = n2 - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="keyword">int</span> d1 = num1.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">                <span class="keyword">int</span> d2 = num2.charAt(j) - <span class="string">'0'</span>;</span><br><span class="line">                products[i + j + <span class="number">1</span>] += d1 * d2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//处理进位</span></span><br><span class="line">        <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = products.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = products[i] + carry;</span><br><span class="line">            products[i] = sum % <span class="number">10</span>;</span><br><span class="line">            carry = sum / <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//跳过开头0</span></span><br><span class="line">        <span class="keyword">boolean</span> beginZero = <span class="keyword">true</span>;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : products) &#123;</span><br><span class="line">            <span class="keyword">if</span>(num == <span class="number">0</span> &amp;&amp; beginZero) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(num);</span><br><span class="line">            beginZero = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//0特例</span></span><br><span class="line">        <span class="keyword">return</span> sb.length() == <span class="number">0</span> ? <span class="string">"0"</span> : sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀50-pow-x-n">❀❀50. Pow(x, n)</h2>
<blockquote>
<p>求幂次</p>
</blockquote>
<p>幂次最简单方式是直接乘n次，2倍递增优化<br>
负幂次需要转正数再取倒数，注意溢出问题</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//最小值是偶数，先消耗一次，避免转正数溢出</span></span><br><span class="line">        <span class="keyword">if</span>(n == Integer.MIN_VALUE)&#123;</span><br><span class="line">            x = x * x;</span><br><span class="line">            n = n/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(n &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            n = -n;</span><br><span class="line">            x = <span class="number">1</span>/x;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (n%<span class="number">2</span> == <span class="number">0</span>) ? myPow(x * x, n/<span class="number">2</span>) : x *  myPow(x * x, n/<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀29-divide-two-integers">❀29. Divide Two Integers</h2>
<blockquote>
<p>实现整数相除，不使用乘除，溢出返回最大值</p>
</blockquote>
<p>尝试都转变成正数，最后考虑符号问题<br>
负数最小值无法直接取绝对值，使用long</p>
<p>溢出情况</p>
<ul>
<li>最小值负数取没有最大正数对应，取负会溢出，即Integer.MIN_VALUE/-1会溢出</li>
<li>除0非法，视为溢出</li>
</ul>
<p>除法的核心是减法，即求能允许除数几倍，采用指数逼近的方式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(divisor == <span class="number">0</span> || dividend == Integer.MIN_VALUE &amp;&amp; divisor == -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">boolean</span> isNeg = (dividend &gt; <span class="number">0</span> &amp;&amp; divisor &lt; <span class="number">0</span>) || (dividend &lt; <span class="number">0</span> &amp;&amp; divisor &gt; <span class="number">0</span>);</span><br><span class="line">        <span class="comment">//使用long避免最小值绝对值溢出</span></span><br><span class="line">        <span class="keyword">long</span> ldividend = Math.abs((<span class="keyword">long</span>) dividend), ldivisor = Math.abs((<span class="keyword">long</span>) divisor);</span><br><span class="line">        <span class="keyword">int</span> res = (<span class="keyword">int</span>)dividePositive(ldividend, ldivisor);</span><br><span class="line">        <span class="comment">//如果long为2147483648，截断后是Integer.MIN_VALUE，取负依然是本身，不影响</span></span><br><span class="line">        <span class="keyword">return</span> isNeg ?  -res : res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">long</span> <span class="title">dividePositive</span><span class="params">(<span class="keyword">long</span> dividend, <span class="keyword">long</span> divisor)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//不够除，返回0</span></span><br><span class="line">        <span class="keyword">if</span> (dividend &lt; divisor) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2倍扩充，1倍2倍4倍</span></span><br><span class="line">        <span class="keyword">long</span> sum = divisor, multiple = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((sum+sum) &lt;= dividend) &#123;</span><br><span class="line">            sum += sum;</span><br><span class="line">            multiple += multiple;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//相当于重置了倍数，继续从1倍开始找</span></span><br><span class="line">        <span class="keyword">return</span> multiple + dividePositive(dividend - sum, divisor);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀166-fraction-to-recurring-decimal">❀166. Fraction to Recurring Decimal</h2>
<blockquote>
<p>分数转小数，小数循环部分括起来</p>
</blockquote>
<p>都转正数，单独处理符号<br>
通过记录余数remain判断循环</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">fractionToDecimal</span><span class="params">(<span class="keyword">int</span> numerator, <span class="keyword">int</span> denominator)</span> </span>&#123;</span><br><span class="line">        StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">boolean</span> isNeg = numerator &gt; <span class="number">0</span> &amp;&amp; denominator &lt; <span class="number">0</span> || numerator &lt; <span class="number">0</span> &amp;&amp; denominator &gt; <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(isNeg) &#123;</span><br><span class="line">            result.append(<span class="string">"-"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//转为正数,使用long防止溢出</span></span><br><span class="line">        <span class="keyword">long</span> num = Math.abs((<span class="keyword">long</span>) numerator), den = Math.abs((<span class="keyword">long</span>) denominator);</span><br><span class="line">        result.append(num / den);</span><br><span class="line">        <span class="comment">//整数部分</span></span><br><span class="line">        <span class="keyword">long</span> rem = num % den;</span><br><span class="line">        <span class="keyword">if</span> (rem == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> result.toString();</span><br><span class="line">        &#125;</span><br><span class="line">        result.append(<span class="string">"."</span>);</span><br><span class="line">        <span class="comment">//余数对应的下标位置</span></span><br><span class="line">        Map&lt;Long, Integer&gt; map = <span class="keyword">new</span> HashMap();</span><br><span class="line">        <span class="keyword">while</span>(rem != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(rem)) &#123;</span><br><span class="line">                <span class="keyword">int</span> idx = map.get(rem);</span><br><span class="line">                <span class="keyword">return</span> result.substring(<span class="number">0</span>, idx)+<span class="string">"("</span>+result.substring(idx)+<span class="string">")"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(rem, result.length());</span><br><span class="line">            rem*= <span class="number">10</span>;</span><br><span class="line">            result.append(rem/den);</span><br><span class="line">            rem = rem % den;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="算数表达式">算数表达式</h1>
<hr>
<h2 id="❀150-evaluate-reverse-polish-notation">❀150. Evaluate Reverse Polish Notation</h2>
<blockquote>
<p>后缀表达式计算</p>
</blockquote>
<p>“2”, “1”, “+”, “3”, “*” =&gt; ((2 + 1) * 3) = 9<br>
遇到数字进栈，遇到操作符弹出两个数字运算后进栈</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">evalRPN</span><span class="params">(String[] tokens)</span> </span>&#123;</span><br><span class="line">        Deque&lt;Integer&gt; stack = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String s: tokens) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">"+-*/"</span>.contains(s)) &#123;</span><br><span class="line">                <span class="keyword">int</span> right = stack.pop();</span><br><span class="line">                <span class="keyword">int</span> left = stack.pop();</span><br><span class="line">                <span class="keyword">if</span> (s.equals(<span class="string">"*"</span>)) &#123;</span><br><span class="line">                    stack.push(left * right);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (s.equals(<span class="string">"/"</span>)) &#123;</span><br><span class="line">                    stack.push(left / right);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (s.equals(<span class="string">"+"</span>)) &#123;</span><br><span class="line">                    stack.push(left + right);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (s.equals(<span class="string">"-"</span>)) &#123;</span><br><span class="line">                    stack.push(left - right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stack.push(Integer.valueOf(s));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀224-basic-calculator">❀❀224. Basic Calculator</h2>
<blockquote>
<p>计算正数加减括号表达式结果</p>
</blockquote>
<p>有括号，需要栈保存结果<br>
采取正负1的形式表达加减</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>, number = <span class="number">0</span>, sign = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++)&#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(Character.isDigit(c))&#123;</span><br><span class="line">                number = <span class="number">10</span> * number + (c - <span class="string">'0'</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'+'</span>)&#123;</span><br><span class="line">                <span class="comment">//数字中止，数字乘以之前的符号，符号更新</span></span><br><span class="line">                result += sign * number;</span><br><span class="line">                number = <span class="number">0</span>;</span><br><span class="line">                sign = <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'-'</span>)&#123;</span><br><span class="line">                result += sign * number;</span><br><span class="line">                number = <span class="number">0</span>;</span><br><span class="line">                sign = -<span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'('</span>)&#123;</span><br><span class="line">                <span class="comment">//符号也跟着结果进栈</span></span><br><span class="line">                stack.push(result);</span><br><span class="line">                stack.push(sign);</span><br><span class="line">                <span class="comment">//重置</span></span><br><span class="line">                sign = <span class="number">1</span>;</span><br><span class="line">                number = <span class="number">0</span>;</span><br><span class="line">                result = <span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">')'</span>)&#123;</span><br><span class="line">                result += sign * number;</span><br><span class="line">                number = <span class="number">0</span>;</span><br><span class="line">                <span class="comment">//应用符号</span></span><br><span class="line">                result *= stack.pop();</span><br><span class="line">                <span class="comment">//累加上之前结果</span></span><br><span class="line">                result += stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//尾处理</span></span><br><span class="line">        <span class="keyword">if</span>(number != <span class="number">0</span>) &#123;</span><br><span class="line">            result += sign * number;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀227-basic-calculator-ii">❀❀227. Basic Calculator II</h2>
<blockquote>
<p>计算正数加减乘除表达式</p>
</blockquote>
<p>由于有乘除法，前面的加减不能直接计算，先放到栈里<br>
每次遇到符号表示数字终止，根据之前的符号操作数字</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//初始符号为+</span></span><br><span class="line">        <span class="keyword">char</span> sign = <span class="string">'+'</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(Character.isDigit(c))&#123;</span><br><span class="line">                num = num*<span class="number">10</span>+ c-<span class="string">'0'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//遇到符号或者已经是最后一个数字</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="string">"+-*/"</span>.contains(String.valueOf(c)) || i==len-<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(sign==<span class="string">'-'</span>)&#123;</span><br><span class="line">                    stack.push(-num);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(sign==<span class="string">'+'</span>)&#123;</span><br><span class="line">                    stack.push(num);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(sign==<span class="string">'*'</span>)&#123;</span><br><span class="line">                    stack.push(stack.pop()*num);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(sign==<span class="string">'/'</span>)&#123;</span><br><span class="line">                    stack.push(stack.pop()/num);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//更新符号</span></span><br><span class="line">                sign = c;</span><br><span class="line">                num = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//栈内容求和</span></span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i:stack)&#123;</span><br><span class="line">            result += i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="括号表达式">括号表达式</h1>
<hr>
<p>栈，计数</p>
<h2 id="❀20-valid-parentheses">❀20. Valid Parentheses</h2>
<blockquote>
<p>三种括号，判断括号序列合法性</p>
</blockquote>
<p>左括号入栈，右括号尝试出栈匹配</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">'('</span> || c == <span class="string">'['</span> || c == <span class="string">'&#123;'</span>) &#123;</span><br><span class="line">                stack.push(c);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(stack.isEmpty())&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">char</span> left = stack.pop();</span><br><span class="line">                <span class="keyword">if</span>(c == <span class="string">')'</span> &amp;&amp; left != <span class="string">'('</span> || c==<span class="string">']'</span> &amp;&amp; left != <span class="string">'['</span> || c==<span class="string">'&#125;'</span> &amp;&amp; left != <span class="string">'&#123;'</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也可以遇到左括号入栈右括号，这样遇到右括号时判断是否和栈顶相等即可</p>
<h2 id="❀❀678-valid-parenthesis-string">❀❀678. Valid Parenthesis String</h2>
<blockquote>
<p>左右括号和<code>*</code>组成的序列，<code>*</code>可以代表一个任意括号或者空白，判断是否可能合法</p>
</blockquote>
<p>括号表达式合法的前提是左右括号相等，并且任意前缀左括号多于右括号<br>
如果没有星号，采用单变量记录未匹配的左括号数，过程中始终为正且最终为0表示合法<br>
星号引入了不确定性，单独推断比较困难，转而记录未匹配的左括号数量上下限，上下限应始终大于等于0，如果上限小于0表示右括号过多不合法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkValidString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>, high = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'('</span>) &#123;</span><br><span class="line">                low++;</span><br><span class="line">                high++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">')'</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (low &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    low--;</span><br><span class="line">                &#125;</span><br><span class="line">                high--;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//遇到*号比如原来[2,4],如果是左括号范围变为[3,5],如果是右括号范围变为[1,3],综合考虑为[1,5]</span></span><br><span class="line">                <span class="keyword">if</span> (low &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    low--;</span><br><span class="line">                &#125;</span><br><span class="line">                high++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//前缀右括号多，肯定不合法</span></span><br><span class="line">            <span class="keyword">if</span> (high &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> low == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀1021-remove-outermost-parentheses">❀1021. Remove Outermost Parentheses</h2>
<blockquote>
<p>移除每段括号最外层</p>
</blockquote>
<p>没必要用栈，只计数即可<br>
每次0时表示每段结束，丢弃每段的首尾括号</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">removeOuterParentheses</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c : S.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">'('</span>) &#123;</span><br><span class="line">                left++;</span><br><span class="line">                <span class="comment">//第一个左括号不加</span></span><br><span class="line">                <span class="keyword">if</span>(left != <span class="number">1</span>) &#123;</span><br><span class="line">                    sb.append(c);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                left--;</span><br><span class="line">                <span class="comment">//最后一个右括号不加</span></span><br><span class="line">                <span class="keyword">if</span>(left != <span class="number">0</span>) &#123;</span><br><span class="line">                    sb.append(c);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1111-maximum-nesting-depth-of-two-valid-parentheses-strings">1111. Maximum Nesting Depth of Two Valid Parentheses Strings</h2>
<blockquote>
<p>拆分括号为两个序列，使得层数接近，返回每个位置所在的序列号0/1</p>
</blockquote>
<p>同层拆出来还是能保持匹配，即把奇偶数层单独拆分出一个序列</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] maxDepthAfterSplit(String seq) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[seq.length()];</span><br><span class="line">        <span class="keyword">int</span> level = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; seq.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(seq.charAt(i) == <span class="string">'('</span>) &#123;</span><br><span class="line">                level++;</span><br><span class="line">                res[i] = level % <span class="number">2</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                res[i] = level % <span class="number">2</span>;</span><br><span class="line">                level--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀32-longest-valid-parentheses">❀❀32. Longest Valid Parentheses</h2>
<blockquote>
<p>求最长括号匹配子串长度</p>
</blockquote>
<p>匹配出栈，遇到不匹配就入栈<br>
栈顶就是上个不匹配的位置视为左界，如果新进不匹配则为右界，两个界限之间长度就是中间匹配长度</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = s.length(), len = Integer.MIN_VALUE;</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">            <span class="keyword">char</span> curr = s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(!stack.empty() &amp;&amp; s.charAt(stack.peek())== <span class="string">'('</span> &amp;&amp; curr == <span class="string">')'</span>) &#123;</span><br><span class="line">                <span class="comment">//成功匹配，出栈</span></span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//栈空，说明前面都是匹配的,不匹配的左界相当于-1</span></span><br><span class="line">                <span class="keyword">int</span> left = stack.empty() ? -<span class="number">1</span> : stack.peek();</span><br><span class="line">                len = Math.max(len, i-left-<span class="number">1</span>);</span><br><span class="line">                stack.push(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//尾触发，处理栈内剩余，如果栈空了说明整个串全匹配</span></span><br><span class="line">        <span class="keyword">int</span> left = stack.empty() ? -<span class="number">1</span> : stack.peek();</span><br><span class="line">        len = Math.max(len, n-left-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> len;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="排列组合数">排列组合数</h1>
<hr>
<h2 id="1128-number-of-equivalent-domino-pairs">1128. Number of Equivalent Domino Pairs</h2>
<blockquote>
<p>一组数对范围1~9，按位相等或者交叉相等都认为数对相等，求相等的数对组数</p>
</blockquote>
<p>数对统计，比如(1,2)出现3次，那么自身组C(3,2)=3组，如果(2,1)出现2次，那么交叉组6对</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numEquivDominoPairs</span><span class="params">(<span class="keyword">int</span>[][] dominoes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] cnt = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span>[] d : dominoes) &#123;</span><br><span class="line">            cnt[d[<span class="number">0</span>]][d[<span class="number">1</span>]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">9</span>; j++) &#123;</span><br><span class="line">                res += cnt[i][j] * (cnt[i][j]-<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(i != j) &#123;</span><br><span class="line">                    res += cnt[i][j] * cnt[j][i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res/<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="随机">随机</h1>
<hr>
<h2 id="❀470-implement-rand10-using-rand7">❀470. Implement Rand10() Using Rand7()</h2>
<blockquote>
<p>使用1-7生成1-10随机</p>
</blockquote>
<p>单次7个结果不够，两次可以49个结果，49个结果不能均分10份，取前40个有效<br>
两次1-7可以看做7进制0-6，转为10进制0-9，最后取余加1映射到1-10<br>
有40/49的概率成功，几何分布期望是49/40次，每次调用2次rand7因此平均需要2.45次</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">SolBase</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rand10</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = rand7(), j = rand7();</span><br><span class="line">        <span class="keyword">int</span> val = (i-<span class="number">1</span>)*<span class="number">7</span> + (j-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(val &gt; <span class="number">39</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> rand10();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> (val % <span class="number">10</span>) + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀384-shuffle-an-array">❀384. Shuffle an Array</h2>
<blockquote>
<p>随机打乱顺序</p>
</blockquote>
<p>模拟日常洗牌流程，每次从剩下牌里选一张出来<br>
Random.nextInt(n)返回[0,n), 每次选完放在后面,不断缩小范围<br>
由于有恢复操作，数组clone副本操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] nums;</span><br><span class="line">    <span class="keyword">private</span> Random r;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nums = nums;</span><br><span class="line">        r = <span class="keyword">new</span> Random();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] reset() &#123;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] shuffle() &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[] res = nums.clone();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = nums.length-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">int</span> index = r.nextInt(i+<span class="number">1</span>);</span><br><span class="line">            swap(res, i, index);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = a[i];</span><br><span class="line">        a[i] = a[j];</span><br><span class="line">        a[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀❀382-linked-list-random-node">❀❀382. Linked List Random Node</h2>
<blockquote>
<p>返回链表随机值，链表长度未知</p>
</blockquote>
<p>蓄水池采样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    ListNode head;</span><br><span class="line">    Random rand;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        rand = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">this</span>.head = head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//遍历链表，第i个数以1/i的概率选中替换已有结果</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ListNode cur = head;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(cur != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> ran = rand.nextInt(count + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(ran == count)&#123;</span><br><span class="line">                res = cur.val;</span><br><span class="line">            &#125;</span><br><span class="line">            count++;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="数字特性">数字特性</h1>
<hr>
<h2 id="❀❀670-maximum-swap">❀❀670. Maximum Swap</h2>
<blockquote>
<p>至多交换一次数位，使得数字最大化</p>
</blockquote>
<p>要最大化肯定尽可能把大的数字放在前面<br>
先计数排序，尝试对比最大的数字，第一个不同的数字就是要替换的数字<br>
如果本身就是降序，那么已经最大<br>
如果要替换的数字有多个备选，那么选择后面位置，因为交换后前面数字变大，后面变小<br>
比如41323，第二位需要替换为3，由于有两个3，那么替换后面的，结果为43321</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximumSwap</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        String s = String.valueOf(num);</span><br><span class="line">        <span class="comment">//建立数字和出现位置的映射</span></span><br><span class="line">        Map&lt;Integer, List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> digit = s.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">            map.putIfAbsent(digit, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            map.get(digit).add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//判定高位是否可以更大,计数排序思路</span></span><br><span class="line">        <span class="keyword">int</span> max = <span class="number">10</span>, cnt = <span class="number">0</span>, high = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">while</span>(cnt == <span class="number">0</span>) &#123;</span><br><span class="line">                max--;</span><br><span class="line">                cnt = map.get(max) != <span class="keyword">null</span> ? map.get(max).size() : <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i)-<span class="string">'0'</span> != max) &#123;</span><br><span class="line">                high = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cnt--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(high == -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//选择最后一次出现的位置交换</span></span><br><span class="line">            List&lt;Integer&gt; pos = map.get(max);</span><br><span class="line">            <span class="keyword">int</span> low = pos.get(pos.size()-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">char</span>[] array = s.toCharArray();</span><br><span class="line">            <span class="keyword">char</span> tmp = array[high];</span><br><span class="line">            array[high] = array[low];</span><br><span class="line">            array[low] = tmp;</span><br><span class="line">            <span class="keyword">return</span> Integer.valueOf(<span class="keyword">new</span> String(array));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="调度">调度</h1>
<hr>
<h2 id="❀❀621-task-scheduler">❀❀621. Task Scheduler</h2>
<blockquote>
<p>每个任务一个周期执行，同一类型任务需要间隔n个再执行，全部执行完需要多少周期</p>
</blockquote>
<p>以最高频任务作为基础，比如四个A间隔2，Axx|Axx|Axx|A，每段需要填充2个空闲<br>
如果有多个同频次任务则共同为基础，比如四个AB间隔2，ABx|ABx|ABx|AB, 由于B占用了空闲，需要填充的变为1<br>
非最高频任务依次填充每个区段即可，肯定可以排下优先填补空缺即可，单个区段填满可以继续填，比如四个AB两个CD，ABCD|ABC|ABD|AB</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">leastInterval</span><span class="params">(<span class="keyword">char</span>[] tasks, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] counter = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="comment">//同任务最高次数， 最高次数的任务数</span></span><br><span class="line">        <span class="keyword">int</span> maxFreq = <span class="number">0</span>, maxCount = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> task : tasks) &#123;</span><br><span class="line">            <span class="keyword">int</span> idx = task - <span class="string">'A'</span>;</span><br><span class="line">            counter[idx]++;</span><br><span class="line">            <span class="keyword">if</span>(maxFreq == counter[idx]) &#123;</span><br><span class="line">                maxCount++;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(maxFreq &lt; counter[idx]) &#123;</span><br><span class="line">                maxFreq = counter[idx];</span><br><span class="line">                maxCount = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//间隔分段数</span></span><br><span class="line">        <span class="keyword">int</span> partCount = maxFreq - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//每段需要填充的空余，可能是负数</span></span><br><span class="line">        <span class="keyword">int</span> partLength = n - (maxCount - <span class="number">1</span>);</span><br><span class="line">        <span class="comment">//总空余数</span></span><br><span class="line">        <span class="keyword">int</span> emptySlots = partCount * partLength;</span><br><span class="line">        <span class="comment">//非最高频任务数量</span></span><br><span class="line">        <span class="keyword">int</span> availableTasks = tasks.length - maxFreq * maxCount;</span><br><span class="line">        <span class="comment">//是否够填充空余</span></span><br><span class="line">        <span class="keyword">int</span> idles = Math.max(<span class="number">0</span>, emptySlots - availableTasks);</span><br><span class="line">        <span class="keyword">return</span> tasks.length + idles;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="几何">几何</h1>
<hr>
<h2 id="❀❀149-max-points-on-a-line">❀❀149. Max Points on a Line</h2>
<blockquote>
<p>求最多几个点在一条直线上</p>
</blockquote>
<p>单点和斜率构成一条直线<br>
由于斜率可能小数不好比较，采用gcd化简存储<br>
点两两间只计算一次，比如a点在前，a点计算过(a,b)，那么后续b点没必要计算(b,a)，因为是同一条直线</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPoints</span><span class="params">(<span class="keyword">int</span>[][] points)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (points==<span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (points.length&lt;=<span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> points.length;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Map&lt;String,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> result=<span class="number">0</span>;</span><br><span class="line">        <span class="comment">//尝试经过i点所有直线</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;points.length; i++)&#123; </span><br><span class="line">            map.clear();</span><br><span class="line">            <span class="keyword">int</span> overlap=<span class="number">0</span>, max=<span class="number">0</span>;</span><br><span class="line">            <span class="comment">//前面点不再重复计算</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;points.length; j++)&#123;</span><br><span class="line">                <span class="keyword">int</span> x = points[j][<span class="number">0</span>] - points[i][<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> y = points[j][<span class="number">1</span>] - points[i][<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (x==<span class="number">0</span> &amp;&amp; y==<span class="number">0</span>)&#123;</span><br><span class="line">                    overlap++;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> gcd = gcd(x,y);</span><br><span class="line">                <span class="keyword">if</span> (gcd!=<span class="number">0</span>)&#123;</span><br><span class="line">                    x/=gcd;</span><br><span class="line">                    y/=gcd;</span><br><span class="line">                &#125;</span><br><span class="line">                String key = y + <span class="string">"/"</span> + x;</span><br><span class="line">                map.put(key, map.getOrDefault(key,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">                max = Math.max(max, map.get(key));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//当前点+重合点+同斜率点</span></span><br><span class="line">            result = Math.max(result, max+overlap+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b == <span class="number">0</span> ? a : gcd(b, a % b); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="❀360-sort-transformed-array">❀360. Sort Transformed Array</h2>
<blockquote>
<p>给出x数组和abc参数，求ax2+bx+c后的结果排序,要求复杂度O(n)</p>
</blockquote>
<p>利用几何性质</p>
<ul>
<li>如果a大于0，双曲线两端高，可以双指针取大值</li>
<li>如果a小于0，双曲线两端低，可以双指针取最小值</li>
<li>如果a等于0，直线，已经有序，兼容双指针</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] sortTransformedArray(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c) &#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span>[] sorted = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, j = n - <span class="number">1</span>, index = a &gt;= <span class="number">0</span> ? n - <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= j) &#123;</span><br><span class="line">            <span class="keyword">int</span> left = quad(nums[i], a, b, c), right = quad(nums[j], a, b, c);</span><br><span class="line">            <span class="keyword">if</span> (a &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(left &gt;= right) &#123;</span><br><span class="line">                    sorted[index] = left;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    sorted[index] = right;</span><br><span class="line">                    j--;</span><br><span class="line">                &#125;</span><br><span class="line">                index--;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(left &lt;= right) &#123;</span><br><span class="line">                    sorted[index] = left;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    sorted[index] = right;</span><br><span class="line">                    j--;</span><br><span class="line">                &#125;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sorted;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">quad</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a * x * x + b * x + c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
    <div class="donate_module">
        <div id="donate_board" class="donate_bar">
            <br>
            <a id="btn_donate" class="btn_donate" target="_self" href="javascript:;" title="Donate 打赏"></a>
        </div>
        <div id="donate_guide" class="donate_bar hidden">
            <br>
            <a href="/assets/reward/wechat_code.jpg"  class="fancybox">
                <img src="/assets/reward/wechat_code.jpg" title="微信打赏" height="190px" width="auto"/>
            </a>
            <span class="donate_space"></span>
            <a href="/assets/reward/alipay_code.jpg"  class="fancybox">
                <img src="/assets/reward/alipay_code.jpg" title="支付宝打赏" height="190px" width="auto"/>
            </a>
        </div>
        <span class="donate_txt">一分也是爱~</span> 
    </div>

        <div class="breakword">
    <hr>
    <p><strong>版权声明</strong></p>
    <p><img src="/assets/copyright/cc.png" alt=""></p>
    <p><a href="http://linest.github.io/leetcode/leetcode-number.html">This site</a> by <a href="mailto:xlinest@gmail.com">Linest</a> is licensed under a <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="external">Creative Commons BY-NC-ND 4.0 International License</a>.
    <br>由<a href="mailto:xlinest@gmail.com">Linest</a>创作并维护的博客采用<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="external">创作共用保留署名-非商业-禁止演绎4.0国际许可证</a>。</p>
    <p>本文永久链接：<a href="http://linest.github.io/leetcode/leetcode-number.html">http://linest.github.io/leetcode/leetcode-number.html</a></p>
</div>
      
    </div>
    
  </div>
  
    
  
</article>
<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
        <div class="toc-container tooltip-left">
            <i class="icon-font icon-category"></i>
            <div class="tooltip tooltip-east">
                <span class="tooltip-item">
                </span>
                <span class="tooltip-content">
                    <div class="toc-article">
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#总结"><span class="toc-number">1.</span> <span class="toc-text">总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#关注"><span class="toc-number">1.1.</span> <span class="toc-text">关注</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#操作"><span class="toc-number">1.2.</span> <span class="toc-text">操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#技巧"><span class="toc-number">1.3.</span> <span class="toc-text">技巧</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#间隔"><span class="toc-number">2.</span> <span class="toc-text">间隔</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀163-missing-ranges"><span class="toc-number">2.1.</span> <span class="toc-text">❀163. Missing Ranges</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数位与进制"><span class="toc-number">3.</span> <span class="toc-text">数位与进制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀7-reverse-integer"><span class="toc-number">3.1.</span> <span class="toc-text">❀7. Reverse Integer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀9-palindrome-number"><span class="toc-number">3.2.</span> <span class="toc-text">❀9. Palindrome Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀504-base-7"><span class="toc-number">3.3.</span> <span class="toc-text">❀504. Base 7</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀405-convert-a-number-to-hexadecimal"><span class="toc-number">3.4.</span> <span class="toc-text">❀❀405. Convert a Number to Hexadecimal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1271-hexspeak"><span class="toc-number">3.5.</span> <span class="toc-text">1271. Hexspeak</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀168-excel-sheet-column-title"><span class="toc-number">3.6.</span> <span class="toc-text">❀168. Excel Sheet Column Title</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀171-excel-sheet-column-number"><span class="toc-number">3.7.</span> <span class="toc-text">❀171. Excel Sheet Column Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀476-number-complement"><span class="toc-number">3.8.</span> <span class="toc-text">❀❀476. Number Complement</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#868-binary-gap"><span class="toc-number">3.9.</span> <span class="toc-text">868. Binary Gap</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1085-sum-of-digits-in-the-minimum-number"><span class="toc-number">3.10.</span> <span class="toc-text">1085. Sum of Digits in the Minimum Number</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#编解码"><span class="toc-number">4.</span> <span class="toc-text">编解码</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀12-integer-to-roman"><span class="toc-number">4.1.</span> <span class="toc-text">❀12. Integer to Roman</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-roman-to-integer"><span class="toc-number">4.2.</span> <span class="toc-text">13. Roman to Integer</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#字符串解析"><span class="toc-number">5.</span> <span class="toc-text">字符串解析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀8-string-to-integer-atoi"><span class="toc-number">5.1.</span> <span class="toc-text">❀8. String to Integer (atoi)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#整除与余数"><span class="toc-number">6.</span> <span class="toc-text">整除与余数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀1018-binary-prefix-divisible-by-5"><span class="toc-number">6.1.</span> <span class="toc-text">❀1018. Binary Prefix Divisible By 5</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#728-self-dividing-numbers"><span class="toc-number">6.2.</span> <span class="toc-text">728. Self Dividing Numbers</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#反复操作"><span class="toc-number">7.</span> <span class="toc-text">反复操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀258-add-digits"><span class="toc-number">7.1.</span> <span class="toc-text">❀258. Add Digits</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀202-happy-number"><span class="toc-number">7.2.</span> <span class="toc-text">❀202. Happy Number</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#因子"><span class="toc-number">8.</span> <span class="toc-text">因子</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀326-power-of-three"><span class="toc-number">8.1.</span> <span class="toc-text">❀326. Power of Three</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#507-perfect-number"><span class="toc-number">8.2.</span> <span class="toc-text">507. Perfect Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀172-factorial-trailing-zeroes"><span class="toc-number">8.3.</span> <span class="toc-text">❀❀172. Factorial Trailing Zeroes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#412-fizz-buzz"><span class="toc-number">8.4.</span> <span class="toc-text">412. Fizz Buzz</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#263-ugly-number"><span class="toc-number">8.5.</span> <span class="toc-text">263. Ugly Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀264-ugly-number-ii"><span class="toc-number">8.6.</span> <span class="toc-text">❀❀264. Ugly Number II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#313-super-ugly-number"><span class="toc-number">8.7.</span> <span class="toc-text">313. Super Ugly Number</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#最大公约数"><span class="toc-number">9.</span> <span class="toc-text">最大公约数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀914-x-of-a-kind-in-a-deck-of-cards"><span class="toc-number">9.1.</span> <span class="toc-text">❀914. X of a Kind in a Deck of Cards</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀365-water-and-jug-problem"><span class="toc-number">9.2.</span> <span class="toc-text">❀365. Water and Jug Problem</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#质数"><span class="toc-number">10.</span> <span class="toc-text">质数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀204-count-primes"><span class="toc-number">10.1.</span> <span class="toc-text">❀❀204. Count Primes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀650-2-keys-keyboard"><span class="toc-number">10.2.</span> <span class="toc-text">❀650. 2 Keys Keyboard</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数列"><span class="toc-number">11.</span> <span class="toc-text">数列</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀400-nth-digit"><span class="toc-number">11.1.</span> <span class="toc-text">❀❀400. Nth Digit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀60-permutation-sequence"><span class="toc-number">11.2.</span> <span class="toc-text">❀60. Permutation Sequence</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀440-k-th-smallest-in-lexicographical-order"><span class="toc-number">11.3.</span> <span class="toc-text">❀❀440. K-th Smallest in Lexicographical Order</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀386-lexicographical-numbers"><span class="toc-number">11.4.</span> <span class="toc-text">❀386. Lexicographical Numbers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀31-next-permutation"><span class="toc-number">11.5.</span> <span class="toc-text">❀31. Next Permutation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#556-next-greater-element-iii"><span class="toc-number">11.6.</span> <span class="toc-text">556. Next Greater Element III</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1103-distribute-candies-to-people"><span class="toc-number">11.7.</span> <span class="toc-text">1103. Distribute Candies to People</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀89-gray-code"><span class="toc-number">11.8.</span> <span class="toc-text">❀89. Gray Code</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀413-arithmetic-slices"><span class="toc-number">11.9.</span> <span class="toc-text">❀413. Arithmetic Slices</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀1215-stepping-numbers"><span class="toc-number">11.10.</span> <span class="toc-text">❀1215. Stepping Numbers</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#多项式"><span class="toc-number">12.</span> <span class="toc-text">多项式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀970-powerful-integers"><span class="toc-number">12.1.</span> <span class="toc-text">❀970. Powerful Integers</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#奇偶性"><span class="toc-number">13.</span> <span class="toc-text">奇偶性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀985-sum-of-even-numbers-after-queries"><span class="toc-number">13.1.</span> <span class="toc-text">❀985. Sum of Even Numbers After Queries</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#中心逼近"><span class="toc-number">14.</span> <span class="toc-text">中心逼近</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀633-sum-of-square-numbers"><span class="toc-number">14.1.</span> <span class="toc-text">❀633. Sum of Square Numbers</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二分逼近"><span class="toc-number">15.</span> <span class="toc-text">二分逼近</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀69-sqrt-x"><span class="toc-number">15.1.</span> <span class="toc-text">❀69. Sqrt(x)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#492-construct-the-rectangle"><span class="toc-number">15.2.</span> <span class="toc-text">492. Construct the Rectangle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#367-valid-perfect-square"><span class="toc-number">15.3.</span> <span class="toc-text">367. Valid Perfect Square</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀441-arranging-coins"><span class="toc-number">15.4.</span> <span class="toc-text">❀441. Arranging Coins</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#运算"><span class="toc-number">16.</span> <span class="toc-text">运算</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀415-add-strings"><span class="toc-number">16.1.</span> <span class="toc-text">❀415. Add Strings</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#67-add-binary"><span class="toc-number">16.2.</span> <span class="toc-text">67. Add Binary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀989-add-to-array-form-of-integer"><span class="toc-number">16.3.</span> <span class="toc-text">❀989. Add to Array-Form of Integer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀66-plus-one"><span class="toc-number">16.4.</span> <span class="toc-text">❀66. Plus One</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀369-plus-one-linked-list"><span class="toc-number">16.5.</span> <span class="toc-text">❀369. Plus One Linked List</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀43-multiply-strings"><span class="toc-number">16.6.</span> <span class="toc-text">❀❀43. Multiply Strings</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀50-pow-x-n"><span class="toc-number">16.7.</span> <span class="toc-text">❀❀50. Pow(x, n)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀29-divide-two-integers"><span class="toc-number">16.8.</span> <span class="toc-text">❀29. Divide Two Integers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀166-fraction-to-recurring-decimal"><span class="toc-number">16.9.</span> <span class="toc-text">❀166. Fraction to Recurring Decimal</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#算数表达式"><span class="toc-number">17.</span> <span class="toc-text">算数表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀150-evaluate-reverse-polish-notation"><span class="toc-number">17.1.</span> <span class="toc-text">❀150. Evaluate Reverse Polish Notation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀224-basic-calculator"><span class="toc-number">17.2.</span> <span class="toc-text">❀❀224. Basic Calculator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀227-basic-calculator-ii"><span class="toc-number">17.3.</span> <span class="toc-text">❀❀227. Basic Calculator II</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#括号表达式"><span class="toc-number">18.</span> <span class="toc-text">括号表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀20-valid-parentheses"><span class="toc-number">18.1.</span> <span class="toc-text">❀20. Valid Parentheses</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀678-valid-parenthesis-string"><span class="toc-number">18.2.</span> <span class="toc-text">❀❀678. Valid Parenthesis String</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀1021-remove-outermost-parentheses"><span class="toc-number">18.3.</span> <span class="toc-text">❀1021. Remove Outermost Parentheses</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1111-maximum-nesting-depth-of-two-valid-parentheses-strings"><span class="toc-number">18.4.</span> <span class="toc-text">1111. Maximum Nesting Depth of Two Valid Parentheses Strings</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀32-longest-valid-parentheses"><span class="toc-number">18.5.</span> <span class="toc-text">❀❀32. Longest Valid Parentheses</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#排列组合数"><span class="toc-number">19.</span> <span class="toc-text">排列组合数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1128-number-of-equivalent-domino-pairs"><span class="toc-number">19.1.</span> <span class="toc-text">1128. Number of Equivalent Domino Pairs</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#随机"><span class="toc-number">20.</span> <span class="toc-text">随机</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀470-implement-rand10-using-rand7"><span class="toc-number">20.1.</span> <span class="toc-text">❀470. Implement Rand10() Using Rand7()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀384-shuffle-an-array"><span class="toc-number">20.2.</span> <span class="toc-text">❀384. Shuffle an Array</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀382-linked-list-random-node"><span class="toc-number">20.3.</span> <span class="toc-text">❀❀382. Linked List Random Node</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数字特性"><span class="toc-number">21.</span> <span class="toc-text">数字特性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀670-maximum-swap"><span class="toc-number">21.1.</span> <span class="toc-text">❀❀670. Maximum Swap</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#调度"><span class="toc-number">22.</span> <span class="toc-text">调度</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀621-task-scheduler"><span class="toc-number">22.1.</span> <span class="toc-text">❀❀621. Task Scheduler</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#几何"><span class="toc-number">23.</span> <span class="toc-text">几何</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#❀❀149-max-points-on-a-line"><span class="toc-number">23.1.</span> <span class="toc-text">❀❀149. Max Points on a Line</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#❀360-sort-transformed-array"><span class="toc-number">23.2.</span> <span class="toc-text">❀360. Sort Transformed Array</span></a></li></ol></li></ol>
                    </div>
                </span>
            </div>
        </div>
        
    </div>
</aside>






</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2020 Linest
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> customized by <a href="#">Linest</a> with <span class="octicon octicon-heart" style="color:red"></span>
				</div>
				<div class="hide">
						<a href="https://clustrmaps.com/site/x7rd" title="Visit tracker"><img src="//clustrmaps.com/map_v2.png?cl=ffffff&w=70&t=n&d=trdgmMc8YDC9aFR4WIBOzfE8f6bNwx_Pq7HA9YiG3sA" /></a>
				</div>
    </div>
  </div>
</footer>

    </div>
    

<script>
	var yiliaConfig = {
		fancybox: false,
		animate: true,
		isHome: false,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		toc_hide_index: true
	}
</script>

<!-- Baidu auto push -->
<script>
(function(){
	var bp = document.createElement('script');
	var curProtocol = window.location.protocol.split(':')[0];
	if (curProtocol === 'https') {
		bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
	}
	else {
		bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	}
	var s = document.getElementsByTagName("script")[0];
	s.parentNode.insertBefore(bp, s);
})();
</script>

<script src="/js/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>



  </div>
<script>!function(i){var o=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function r(t,e){var n=new Image,i=t.getAttribute("data-original");n.onload=function(){t.src=i,e&&e()},n.src=i}function t(){for(var t=0;t<o.length;t++)e=o[t],void 0,0<=(n=e.getBoundingClientRect()).top&&0<=n.left&&n.top<=(i.innerHeight||document.documentElement.clientHeight)&&r(o[t],function(){o.splice(t,t)});var e,n}t(),i.addEventListener("scroll",t)}(this);</script><!-- hexo-inject:begin --><!-- hexo-inject:end --></body>
</html>